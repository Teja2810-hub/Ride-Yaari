(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var ku={exports:{}},Ii={},Cu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=Symbol.for("react.element"),vf=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),_f=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),Sf=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Cf=Symbol.for("react.memo"),Tf=Symbol.for("react.lazy"),Yl=Symbol.iterator;function Ef(t){return t===null||typeof t!="object"?null:(t=Yl&&t[Yl]||t["@@iterator"],typeof t=="function"?t:null)}var Tu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eu=Object.assign,Pu={};function ds(t,e,r){this.props=t,this.context=e,this.refs=Pu,this.updater=r||Tu}ds.prototype.isReactComponent={};ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Au(){}Au.prototype=ds.prototype;function Bo(t,e,r){this.props=t,this.context=e,this.refs=Pu,this.updater=r||Tu}var Wo=Bo.prototype=new Au;Wo.constructor=Bo;Eu(Wo,ds.prototype);Wo.isPureReactComponent=!0;var Jl=Array.isArray,Ru=Object.prototype.hasOwnProperty,Ho={current:null},Ou={key:!0,ref:!0,__self:!0,__source:!0};function Iu(t,e,r){var s,n={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Ru.call(e,s)&&!Ou.hasOwnProperty(s)&&(n[s]=e[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:dn,type:t,key:a,ref:o,props:n,_owner:Ho.current}}function Pf(t,e){return{$$typeof:dn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qo(t){return typeof t=="object"&&t!==null&&t.$$typeof===dn}function Af(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ql=/\/+/g;function sa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Af(""+t.key):e.toString(36)}function Vn(t,e,r,s,n){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dn:case vf:o=!0}}if(o)return o=t,n=n(o),t=s===""?"."+sa(o,0):s,Jl(n)?(r="",t!=null&&(r=t.replace(Ql,"$&/")+"/"),Vn(n,e,r,"",function(u){return u})):n!=null&&(qo(n)&&(n=Pf(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Ql,"$&/")+"/")+t)),e.push(n)),1;if(o=0,s=s===""?".":s+":",Jl(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+sa(a,l);o+=Vn(a,e,r,c,n)}else if(c=Ef(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+sa(a,l++),o+=Vn(a,e,r,c,n);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jn(t,e,r){if(t==null)return t;var s=[],n=0;return Vn(t,s,"","",function(a){return e.call(r,a,n++)}),s}function Rf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},Kn={transition:null},Of={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Kn,ReactCurrentOwner:Ho};function Du(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:jn,forEach:function(t,e,r){jn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return jn(t,function(){e++}),e},toArray:function(t){return jn(t,function(e){return e})||[]},only:function(t){if(!qo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=ds;V.Fragment=wf;V.Profiler=jf;V.PureComponent=Bo;V.StrictMode=bf;V.Suspense=kf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Of;V.act=Du;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Eu({},t.props),n=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ho.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Ru.call(e,c)&&!Ou.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:dn,type:t.type,key:n,ref:a,props:s,_owner:o}};V.createContext=function(t){return t={$$typeof:Nf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_f,_context:t},t.Consumer=t};V.createElement=Iu;V.createFactory=function(t){var e=Iu.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Sf,render:t}};V.isValidElement=qo;V.lazy=function(t){return{$$typeof:Tf,_payload:{_status:-1,_result:t},_init:Rf}};V.memo=function(t,e){return{$$typeof:Cf,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Kn.transition;Kn.transition={};try{t()}finally{Kn.transition=e}};V.unstable_act=Du;V.useCallback=function(t,e){return De.current.useCallback(t,e)};V.useContext=function(t){return De.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return De.current.useDeferredValue(t)};V.useEffect=function(t,e){return De.current.useEffect(t,e)};V.useId=function(){return De.current.useId()};V.useImperativeHandle=function(t,e,r){return De.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return De.current.useMemo(t,e)};V.useReducer=function(t,e,r){return De.current.useReducer(t,e,r)};V.useRef=function(t){return De.current.useRef(t)};V.useState=function(t){return De.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return De.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return De.current.useTransition()};V.version="18.3.1";Cu.exports=V;var w=Cu.exports;const Lu=xf(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=w,Df=Symbol.for("react.element"),Lf=Symbol.for("react.fragment"),$f=Object.prototype.hasOwnProperty,Uf=If.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mf={key:!0,ref:!0,__self:!0,__source:!0};function $u(t,e,r){var s,n={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)$f.call(e,s)&&!Mf.hasOwnProperty(s)&&(n[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)n[s]===void 0&&(n[s]=e[s]);return{$$typeof:Df,type:t,key:a,ref:o,props:n,_owner:Uf.current}}Ii.Fragment=Lf;Ii.jsx=$u;Ii.jsxs=$u;ku.exports=Ii;var i=ku.exports,Uu={exports:{}},Qe={},Mu={exports:{}},zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,P){var I=E.length;E.push(P);e:for(;0<I;){var B=I-1>>>1,Q=E[B];if(0<n(Q,P))E[B]=P,E[I]=Q,I=B;else break e}}function r(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var P=E[0],I=E.pop();if(I!==P){E[0]=I;e:for(var B=0,Q=E.length,Pe=Q>>>1;B<Pe;){var qe=2*(B+1)-1,Lt=E[qe],z=qe+1,oe=E[z];if(0>n(Lt,I))z<Q&&0>n(oe,Lt)?(E[B]=oe,E[z]=I,B=z):(E[B]=Lt,E[qe]=I,B=qe);else if(z<Q&&0>n(oe,I))E[B]=oe,E[z]=I,B=z;else break e}}return P}function n(E,P){var I=E.sortIndex-P.sortIndex;return I!==0?I:E.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,x=!1,v=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var P=r(u);P!==null;){if(P.callback===null)s(u);else if(P.startTime<=E)s(u),P.sortIndex=P.expirationTime,e(c,P);else break;P=r(u)}}function b(E){if(y=!1,p(E),!v)if(r(c)!==null)v=!0,ie(_);else{var P=r(u);P!==null&&X(b,P.startTime-E)}}function _(E,P){v=!1,y&&(y=!1,g(A),A=-1),x=!0;var I=m;try{for(p(P),h=r(c);h!==null&&(!(h.expirationTime>P)||E&&!C());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var Q=B(h.expirationTime<=P);P=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(c)&&s(c),p(P)}else s(c);h=r(c)}if(h!==null)var Pe=!0;else{var qe=r(u);qe!==null&&X(b,qe.startTime-P),Pe=!1}return Pe}finally{h=null,m=I,x=!1}}var N=!1,S=null,A=-1,D=5,k=-1;function C(){return!(t.unstable_now()-k<D)}function R(){if(S!==null){var E=t.unstable_now();k=E;var P=!0;try{P=S(!0,E)}finally{P?L():(N=!1,S=null)}}else N=!1}var L;if(typeof f=="function")L=function(){f(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=R,L=function(){U.postMessage(null)}}else L=function(){j(R,0)};function ie(E){S=E,N||(N=!0,L())}function X(E,P){A=j(function(){E(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,ie(_))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(E){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var I=m;m=P;try{return E()}finally{m=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,P){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var I=m;m=E;try{return P()}finally{m=I}},t.unstable_scheduleCallback=function(E,P,I){var B=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,E){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=I+Q,E={id:d++,callback:P,priorityLevel:E,startTime:I,expirationTime:Q,sortIndex:-1},I>B?(E.sortIndex=I,e(u,E),r(c)===null&&E===r(u)&&(y?(g(A),A=-1):y=!0,X(b,I-B))):(E.sortIndex=Q,e(c,E),v||x||(v=!0,ie(_))),E},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(E){var P=m;return function(){var I=m;m=P;try{return E.apply(this,arguments)}finally{m=I}}}})(zu);Mu.exports=zu;var zf=Mu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=w,Ye=zf;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fu=new Set,Hs={};function Sr(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(Hs[t]=e,t=0;t<e.length;t++)Fu.add(e[t])}var At=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,Bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xl={},Zl={};function Wf(t){return Ua.call(Zl,t)?!0:Ua.call(Xl,t)?!1:Bf.test(t)?Zl[t]=!0:(Xl[t]=!0,!1)}function Hf(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qf(t,e,r,s){if(e===null||typeof e>"u"||Hf(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,r,s,n,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vo=/[\-:]([a-z])/g;function Ko(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vo,Ko);Ne[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vo,Ko);Ne[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vo,Ko);Ne[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function Go(t,e,r,s){var n=Ne.hasOwnProperty(e)?Ne[e]:null;(n!==null?n.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qf(e,r,n,s)&&(r=null),s||n===null?Wf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,s=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var Dt=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),Yo=Symbol.for("react.strict_mode"),Ma=Symbol.for("react.profiler"),Bu=Symbol.for("react.provider"),Wu=Symbol.for("react.context"),Jo=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Qo=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Hu=Symbol.for("react.offscreen"),ec=Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=ec&&t[ec]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,na;function Cs(t){if(na===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);na=e&&e[1]||""}return`
`+na+t}var ia=!1;function aa(t,e){if(!t||ia)return"";ia=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var n=u.stack.split(`
`),a=s.stack.split(`
`),o=n.length-1,l=a.length-1;1<=o&&0<=l&&n[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==a[l]){var c=`
`+n[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ia=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Cs(t):""}function Vf(t){switch(t.tag){case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return t=aa(t.type,!1),t;case 11:return t=aa(t.type.render,!1),t;case 1:return t=aa(t.type,!0),t;default:return""}}function Ba(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case Lr:return"Portal";case Ma:return"Profiler";case Yo:return"StrictMode";case za:return"Suspense";case Fa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wu:return(t.displayName||"Context")+".Consumer";case Bu:return(t._context.displayName||"Context")+".Provider";case Jo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qo:return e=t.displayName||null,e!==null?e:Ba(t.type)||"Memo";case zt:e=t._payload,t=t._init;try{return Ba(t(e))}catch{}}return null}function Kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ba(e);case 8:return e===Yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gf(t){var e=qu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nn(t){t._valueTracker||(t._valueTracker=Gf(t))}function Vu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=qu(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wa(t,e){var r=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tc(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=rr(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ku(t,e){e=e.checked,e!=null&&Go(t,"checked",e,!1)}function Ha(t,e){Ku(t,e);var r=rr(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qa(t,e.type,r):e.hasOwnProperty("defaultValue")&&qa(t,e.type,rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qa(t,e,r){(e!=="number"||ni(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ts=Array.isArray;function Yr(t,e,r,s){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&s&&(t[r].defaultSelected=!0)}else{for(r=""+rr(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,s&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Va(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(Ts(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:rr(r)}}function Gu(t,e){var r=rr(e.value),s=rr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function nc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yu(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ka(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yu(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sn,Ju=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sn=Sn||document.createElement("div"),Sn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yf=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(t){Yf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rs[e]=Rs[t]})});function Qu(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rs.hasOwnProperty(t)&&Rs[t]?(""+e).trim():e+"px"}function Xu(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=Qu(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,n):t[r]=n}}var Jf=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(t,e){if(e){if(Jf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Ya(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function Xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,Jr=null,Qr=null;function ic(t){if(t=mn(t)){if(typeof Qa!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Mi(e),Qa(t.stateNode,t.type,e))}}function Zu(t){Jr?Qr?Qr.push(t):Qr=[t]:Jr=t}function ed(){if(Jr){var t=Jr,e=Qr;if(Qr=Jr=null,ic(t),e)for(t=0;t<e.length;t++)ic(e[t])}}function td(t,e){return t(e)}function rd(){}var oa=!1;function sd(t,e,r){if(oa)return t(e,r);oa=!0;try{return td(t,e,r)}finally{oa=!1,(Jr!==null||Qr!==null)&&(rd(),ed())}}function Vs(t,e){var r=t.stateNode;if(r===null)return null;var s=Mi(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var Xa=!1;if(At)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Xa=!1}function Qf(t,e,r,s,n,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Os=!1,ii=null,ai=!1,Za=null,Xf={onError:function(t){Os=!0,ii=t}};function Zf(t,e,r,s,n,a,o,l,c){Os=!1,ii=null,Qf.apply(Xf,arguments)}function em(t,e,r,s,n,a,o,l,c){if(Zf.apply(this,arguments),Os){if(Os){var u=ii;Os=!1,ii=null}else throw Error(T(198));ai||(ai=!0,Za=u)}}function kr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function nd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ac(t){if(kr(t)!==t)throw Error(T(188))}function tm(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,s=e;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return ac(n),t;if(a===s)return ac(n),e;a=a.sibling}throw Error(T(188))}if(r.return!==s.return)r=n,s=a;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,s=a;break}if(l===s){o=!0,s=n,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=n;break}if(l===s){o=!0,s=a,r=n;break}l=l.sibling}if(!o)throw Error(T(189))}}if(r.alternate!==s)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function id(t){return t=tm(t),t!==null?ad(t):null}function ad(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ad(t);if(e!==null)return e;t=t.sibling}return null}var od=Ye.unstable_scheduleCallback,oc=Ye.unstable_cancelCallback,rm=Ye.unstable_shouldYield,sm=Ye.unstable_requestPaint,he=Ye.unstable_now,nm=Ye.unstable_getCurrentPriorityLevel,Zo=Ye.unstable_ImmediatePriority,ld=Ye.unstable_UserBlockingPriority,oi=Ye.unstable_NormalPriority,im=Ye.unstable_LowPriority,cd=Ye.unstable_IdlePriority,Di=null,bt=null;function am(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:cm,om=Math.log,lm=Math.LN2;function cm(t){return t>>>=0,t===0?32:31-(om(t)/lm|0)|0}var kn=64,Cn=4194304;function Es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,n=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?s=Es(l):(a&=o,a!==0&&(s=Es(a)))}else o=r&~n,o!==0?s=Es(o):a!==0&&(s=Es(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&n)&&(n=s&-s,a=e&-e,n>=a||n===16&&(a&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-ft(e),n=1<<r,s|=t[r],e&=~n;return s}function um(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dm(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ft(a),l=1<<o,c=n[o];c===-1?(!(l&r)||l&s)&&(n[o]=um(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ud(){var t=kn;return kn<<=1,!(kn&4194240)&&(kn=64),t}function la(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function hn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ft(e),t[e]=r}function hm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-ft(r),a=1<<n;e[n]=0,s[n]=-1,t[n]=-1,r&=~a}}function el(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-ft(r),n=1<<s;n&e|t[s]&e&&(t[s]|=e),r&=~n}}var ee=0;function dd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hd,tl,fd,md,pd,to=!1,Tn=[],Kt=null,Gt=null,Yt=null,Ks=new Map,Gs=new Map,Bt=[],fm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lc(t,e){switch(t){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Ks.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(e.pointerId)}}function ws(t,e,r,s,n,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},e!==null&&(e=mn(e),e!==null&&tl(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function mm(t,e,r,s,n){switch(e){case"focusin":return Kt=ws(Kt,t,e,r,s,n),!0;case"dragenter":return Gt=ws(Gt,t,e,r,s,n),!0;case"mouseover":return Yt=ws(Yt,t,e,r,s,n),!0;case"pointerover":var a=n.pointerId;return Ks.set(a,ws(Ks.get(a)||null,t,e,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,Gs.set(a,ws(Gs.get(a)||null,t,e,r,s,n)),!0}return!1}function gd(t){var e=pr(t.target);if(e!==null){var r=kr(e);if(r!==null){if(e=r.tag,e===13){if(e=nd(r),e!==null){t.blockedOn=e,pd(t.priority,function(){fd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gn(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ro(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);Ja=s,r.target.dispatchEvent(s),Ja=null}else return e=mn(r),e!==null&&tl(e),t.blockedOn=r,!1;e.shift()}return!0}function cc(t,e,r){Gn(t)&&r.delete(e)}function pm(){to=!1,Kt!==null&&Gn(Kt)&&(Kt=null),Gt!==null&&Gn(Gt)&&(Gt=null),Yt!==null&&Gn(Yt)&&(Yt=null),Ks.forEach(cc),Gs.forEach(cc)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,to||(to=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,pm)))}function Ys(t){function e(n){return bs(n,t)}if(0<Tn.length){bs(Tn[0],t);for(var r=1;r<Tn.length;r++){var s=Tn[r];s.blockedOn===t&&(s.blockedOn=null)}}for(Kt!==null&&bs(Kt,t),Gt!==null&&bs(Gt,t),Yt!==null&&bs(Yt,t),Ks.forEach(e),Gs.forEach(e),r=0;r<Bt.length;r++)s=Bt[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)gd(r),r.blockedOn===null&&Bt.shift()}var Xr=Dt.ReactCurrentBatchConfig,ci=!0;function gm(t,e,r,s){var n=ee,a=Xr.transition;Xr.transition=null;try{ee=1,rl(t,e,r,s)}finally{ee=n,Xr.transition=a}}function xm(t,e,r,s){var n=ee,a=Xr.transition;Xr.transition=null;try{ee=4,rl(t,e,r,s)}finally{ee=n,Xr.transition=a}}function rl(t,e,r,s){if(ci){var n=ro(t,e,r,s);if(n===null)ya(t,e,s,ui,r),lc(t,s);else if(mm(n,t,e,r,s))s.stopPropagation();else if(lc(t,s),e&4&&-1<fm.indexOf(t)){for(;n!==null;){var a=mn(n);if(a!==null&&hd(a),a=ro(t,e,r,s),a===null&&ya(t,e,s,ui,r),a===n)break;n=a}n!==null&&s.stopPropagation()}else ya(t,e,s,null,r)}}var ui=null;function ro(t,e,r,s){if(ui=null,t=Xo(s),t=pr(t),t!==null)if(e=kr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=nd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ui=t,null}function xd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case Zo:return 1;case ld:return 4;case oi:case im:return 16;case cd:return 536870912;default:return 16}default:return 16}}var qt=null,sl=null,Yn=null;function yd(){if(Yn)return Yn;var t,e=sl,r=e.length,s,n="value"in qt?qt.value:qt.textContent,a=n.length;for(t=0;t<r&&e[t]===n[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===n[a-s];s++);return Yn=n.slice(t,1<s?1-s:void 0)}function Jn(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function En(){return!0}function uc(){return!1}function Xe(t){function e(r,s,n,a,o){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?En:uc,this.isPropagationStopped=uc,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Xe(hs),fn=ue({},hs,{view:0,detail:0}),ym=Xe(fn),ca,ua,js,Li=ue({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(ca=t.screenX-js.screenX,ua=t.screenY-js.screenY):ua=ca=0,js=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),dc=Xe(Li),vm=ue({},Li,{dataTransfer:0}),wm=Xe(vm),bm=ue({},fn,{relatedTarget:0}),da=Xe(bm),jm=ue({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Xe(jm),Nm=ue({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sm=Xe(Nm),km=ue({},hs,{data:0}),hc=Xe(km),Cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Em[t])?!!e[t]:!1}function il(){return Pm}var Am=ue({},fn,{key:function(t){if(t.key){var e=Cm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rm=Xe(Am),Om=ue({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=Xe(Om),Im=ue({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),Dm=Xe(Im),Lm=ue({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=Xe(Lm),Um=ue({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Xe(Um),zm=[9,13,27,32],al=At&&"CompositionEvent"in window,Is=null;At&&"documentMode"in document&&(Is=document.documentMode);var Fm=At&&"TextEvent"in window&&!Is,vd=At&&(!al||Is&&8<Is&&11>=Is),mc=" ",pc=!1;function wd(t,e){switch(t){case"keyup":return zm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function Bm(t,e){switch(t){case"compositionend":return bd(e);case"keypress":return e.which!==32?null:(pc=!0,mc);case"textInput":return t=e.data,t===mc&&pc?null:t;default:return null}}function Wm(t,e){if(Ur)return t==="compositionend"||!al&&wd(t,e)?(t=yd(),Yn=sl=qt=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vd&&e.locale!=="ko"?null:e.data;default:return null}}var Hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hm[t.type]:e==="textarea"}function jd(t,e,r,s){Zu(s),e=di(e,"onChange"),0<e.length&&(r=new nl("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var Ds=null,Js=null;function qm(t){Od(t,0)}function $i(t){var e=Fr(t);if(Vu(e))return t}function Vm(t,e){if(t==="change")return e}var _d=!1;if(At){var ha;if(At){var fa="oninput"in document;if(!fa){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),fa=typeof xc.oninput=="function"}ha=fa}else ha=!1;_d=ha&&(!document.documentMode||9<document.documentMode)}function yc(){Ds&&(Ds.detachEvent("onpropertychange",Nd),Js=Ds=null)}function Nd(t){if(t.propertyName==="value"&&$i(Js)){var e=[];jd(e,Js,t,Xo(t)),sd(qm,e)}}function Km(t,e,r){t==="focusin"?(yc(),Ds=e,Js=r,Ds.attachEvent("onpropertychange",Nd)):t==="focusout"&&yc()}function Gm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $i(Js)}function Ym(t,e){if(t==="click")return $i(e)}function Jm(t,e){if(t==="input"||t==="change")return $i(e)}function Qm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pt=typeof Object.is=="function"?Object.is:Qm;function Qs(t,e){if(pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!Ua.call(e,n)||!pt(t[n],e[n]))return!1}return!0}function vc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wc(t,e){var r=vc(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vc(r)}}function Sd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kd(){for(var t=window,e=ni();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ni(t.document)}return e}function ol(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xm(t){var e=kd(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Sd(r.ownerDocument.documentElement,r)){if(s!==null&&ol(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=s.end===void 0?a:Math.min(s.end,n),!t.extend&&a>s&&(n=s,s=a,a=n),n=wc(r,a);var o=wc(r,s);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zm=At&&"documentMode"in document&&11>=document.documentMode,Mr=null,so=null,Ls=null,no=!1;function bc(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;no||Mr==null||Mr!==ni(s)||(s=Mr,"selectionStart"in s&&ol(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ls&&Qs(Ls,s)||(Ls=s,s=di(so,"onSelect"),0<s.length&&(e=new nl("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=Mr)))}function Pn(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zr={animationend:Pn("Animation","AnimationEnd"),animationiteration:Pn("Animation","AnimationIteration"),animationstart:Pn("Animation","AnimationStart"),transitionend:Pn("Transition","TransitionEnd")},ma={},Cd={};At&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ui(t){if(ma[t])return ma[t];if(!zr[t])return t;var e=zr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Cd)return ma[t]=e[r];return t}var Td=Ui("animationend"),Ed=Ui("animationiteration"),Pd=Ui("animationstart"),Ad=Ui("transitionend"),Rd=new Map,jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){Rd.set(t,e),Sr(e,[t])}for(var pa=0;pa<jc.length;pa++){var ga=jc[pa],ep=ga.toLowerCase(),tp=ga[0].toUpperCase()+ga.slice(1);nr(ep,"on"+tp)}nr(Td,"onAnimationEnd");nr(Ed,"onAnimationIteration");nr(Pd,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(Ad,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function _c(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,em(s,e,void 0,t),t.currentTarget=null}function Od(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],n=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&n.isPropagationStopped())break e;_c(n,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&n.isPropagationStopped())break e;_c(n,l,u),a=c}}}if(ai)throw t=Za,ai=!1,Za=null,t}function se(t,e){var r=e[co];r===void 0&&(r=e[co]=new Set);var s=t+"__bubble";r.has(s)||(Id(e,t,2,!1),r.add(s))}function xa(t,e,r){var s=0;e&&(s|=4),Id(r,t,s,e)}var An="_reactListening"+Math.random().toString(36).slice(2);function Xs(t){if(!t[An]){t[An]=!0,Fu.forEach(function(r){r!=="selectionchange"&&(rp.has(r)||xa(r,!1,t),xa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[An]||(e[An]=!0,xa("selectionchange",!1,e))}}function Id(t,e,r,s){switch(xd(e)){case 1:var n=gm;break;case 4:n=xm;break;default:n=rl}r=n.bind(null,e,r,t),n=void 0,!Xa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),s?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function ya(t,e,r,s,n){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=pr(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}sd(function(){var u=a,d=Xo(r),h=[];e:{var m=Rd.get(t);if(m!==void 0){var x=nl,v=t;switch(t){case"keypress":if(Jn(r)===0)break e;case"keydown":case"keyup":x=Rm;break;case"focusin":v="focus",x=da;break;case"focusout":v="blur",x=da;break;case"beforeblur":case"afterblur":x=da;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Dm;break;case Td:case Ed:case Pd:x=_m;break;case Ad:x=$m;break;case"scroll":x=ym;break;case"wheel":x=Mm;break;case"copy":case"cut":case"paste":x=Sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=fc}var y=(e&4)!==0,j=!y&&t==="scroll",g=y?m!==null?m+"Capture":null:m;y=[];for(var f=u,p;f!==null;){p=f;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=Vs(f,g),b!=null&&y.push(Zs(f,b,p)))),j)break;f=f.return}0<y.length&&(m=new x(m,v,null,r,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&r!==Ja&&(v=r.relatedTarget||r.fromElement)&&(pr(v)||v[Rt]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=u,v=v?pr(v):null,v!==null&&(j=kr(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(y=dc,b="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=fc,b="onPointerLeave",g="onPointerEnter",f="pointer"),j=x==null?m:Fr(x),p=v==null?m:Fr(v),m=new y(b,f+"leave",x,r,d),m.target=j,m.relatedTarget=p,b=null,pr(d)===u&&(y=new y(g,f+"enter",v,r,d),y.target=p,y.relatedTarget=j,b=y),j=b,x&&v)t:{for(y=x,g=v,f=0,p=y;p;p=Tr(p))f++;for(p=0,b=g;b;b=Tr(b))p++;for(;0<f-p;)y=Tr(y),f--;for(;0<p-f;)g=Tr(g),p--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=Tr(y),g=Tr(g)}y=null}else y=null;x!==null&&Nc(h,m,x,y,!1),v!==null&&j!==null&&Nc(h,j,v,y,!0)}}e:{if(m=u?Fr(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var _=Vm;else if(gc(m))if(_d)_=Jm;else{_=Gm;var N=Km}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=Ym);if(_&&(_=_(t,u))){jd(h,_,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&qa(m,"number",m.value)}switch(N=u?Fr(u):window,t){case"focusin":(gc(N)||N.contentEditable==="true")&&(Mr=N,so=u,Ls=null);break;case"focusout":Ls=so=Mr=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,bc(h,r,d);break;case"selectionchange":if(Zm)break;case"keydown":case"keyup":bc(h,r,d)}var S;if(al)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ur?wd(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(vd&&r.locale!=="ko"&&(Ur||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ur&&(S=yd()):(qt=d,sl="value"in qt?qt.value:qt.textContent,Ur=!0)),N=di(u,A),0<N.length&&(A=new hc(A,t,null,r,d),h.push({event:A,listeners:N}),S?A.data=S:(S=bd(r),S!==null&&(A.data=S)))),(S=Fm?Bm(t,r):Wm(t,r))&&(u=di(u,"onBeforeInput"),0<u.length&&(d=new hc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}Od(h,e)})}function Zs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function di(t,e){for(var r=e+"Capture",s=[];t!==null;){var n=t,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Vs(t,r),a!=null&&s.unshift(Zs(t,a,n)),a=Vs(t,e),a!=null&&s.push(Zs(t,a,n))),t=t.return}return s}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nc(t,e,r,s,n){for(var a=e._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,n?(c=Vs(r,a),c!=null&&o.unshift(Zs(r,c,l))):n||(c=Vs(r,a),c!=null&&o.push(Zs(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var sp=/\r\n?/g,np=/\u0000|\uFFFD/g;function Sc(t){return(typeof t=="string"?t:""+t).replace(sp,`
`).replace(np,"")}function Rn(t,e,r){if(e=Sc(e),Sc(t)!==e&&r)throw Error(T(425))}function hi(){}var io=null,ao=null;function oo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lo=typeof setTimeout=="function"?setTimeout:void 0,ip=typeof clearTimeout=="function"?clearTimeout:void 0,kc=typeof Promise=="function"?Promise:void 0,ap=typeof queueMicrotask=="function"?queueMicrotask:typeof kc<"u"?function(t){return kc.resolve(null).then(t).catch(op)}:lo;function op(t){setTimeout(function(){throw t})}function va(t,e){var r=e,s=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){t.removeChild(n),Ys(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);Ys(e)}function Jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),wt="__reactFiber$"+fs,en="__reactProps$"+fs,Rt="__reactContainer$"+fs,co="__reactEvents$"+fs,lp="__reactListeners$"+fs,cp="__reactHandles$"+fs;function pr(t){var e=t[wt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Rt]||r[wt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Cc(t);t!==null;){if(r=t[wt])return r;t=Cc(t)}return e}t=r,r=t.parentNode}return null}function mn(t){return t=t[wt]||t[Rt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Mi(t){return t[en]||null}var uo=[],Br=-1;function ir(t){return{current:t}}function ne(t){0>Br||(t.current=uo[Br],uo[Br]=null,Br--)}function re(t,e){Br++,uo[Br]=t.current,t.current=e}var sr={},Ee=ir(sr),Be=ir(!1),wr=sr;function rs(t,e){var r=t.type.contextTypes;if(!r)return sr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function We(t){return t=t.childContextTypes,t!=null}function fi(){ne(Be),ne(Ee)}function Tc(t,e,r){if(Ee.current!==sr)throw Error(T(168));re(Ee,e),re(Be,r)}function Dd(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in e))throw Error(T(108,Kf(t)||"Unknown",n));return ue({},r,s)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,wr=Ee.current,re(Ee,t),re(Be,Be.current),!0}function Ec(t,e,r){var s=t.stateNode;if(!s)throw Error(T(169));r?(t=Dd(t,e,wr),s.__reactInternalMemoizedMergedChildContext=t,ne(Be),ne(Ee),re(Ee,t)):ne(Be),re(Be,r)}var Ct=null,zi=!1,wa=!1;function Ld(t){Ct===null?Ct=[t]:Ct.push(t)}function up(t){zi=!0,Ld(t)}function ar(){if(!wa&&Ct!==null){wa=!0;var t=0,e=ee;try{var r=Ct;for(ee=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}Ct=null,zi=!1}catch(n){throw Ct!==null&&(Ct=Ct.slice(t+1)),od(Zo,ar),n}finally{ee=e,wa=!1}}return null}var Wr=[],Hr=0,pi=null,gi=0,Ze=[],et=0,br=null,Tt=1,Et="";function dr(t,e){Wr[Hr++]=gi,Wr[Hr++]=pi,pi=t,gi=e}function $d(t,e,r){Ze[et++]=Tt,Ze[et++]=Et,Ze[et++]=br,br=t;var s=Tt;t=Et;var n=32-ft(s)-1;s&=~(1<<n),r+=1;var a=32-ft(e)+n;if(30<a){var o=n-n%5;a=(s&(1<<o)-1).toString(32),s>>=o,n-=o,Tt=1<<32-ft(e)+n|r<<n|s,Et=a+t}else Tt=1<<a|r<<n|s,Et=t}function ll(t){t.return!==null&&(dr(t,1),$d(t,1,0))}function cl(t){for(;t===pi;)pi=Wr[--Hr],Wr[Hr]=null,gi=Wr[--Hr],Wr[Hr]=null;for(;t===br;)br=Ze[--et],Ze[et]=null,Et=Ze[--et],Ze[et]=null,Tt=Ze[--et],Ze[et]=null}var Ge=null,Ke=null,ae=!1,dt=null;function Ud(t,e){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Pc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=Jt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,Ke=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=br!==null?{id:Tt,overflow:Et}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ge=t,Ke=null,!0):!1;default:return!1}}function ho(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fo(t){if(ae){var e=Ke;if(e){var r=e;if(!Pc(t,e)){if(ho(t))throw Error(T(418));e=Jt(r.nextSibling);var s=Ge;e&&Pc(t,e)?Ud(s,r):(t.flags=t.flags&-4097|2,ae=!1,Ge=t)}}else{if(ho(t))throw Error(T(418));t.flags=t.flags&-4097|2,ae=!1,Ge=t}}}function Ac(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function On(t){if(t!==Ge)return!1;if(!ae)return Ac(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oo(t.type,t.memoizedProps)),e&&(e=Ke)){if(ho(t))throw Md(),Error(T(418));for(;e;)Ud(t,e),e=Jt(e.nextSibling)}if(Ac(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ke=Jt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ke=null}}else Ke=Ge?Jt(t.stateNode.nextSibling):null;return!0}function Md(){for(var t=Ke;t;)t=Jt(t.nextSibling)}function ss(){Ke=Ge=null,ae=!1}function ul(t){dt===null?dt=[t]:dt.push(t)}var dp=Dt.ReactCurrentBatchConfig;function _s(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var s=r.stateNode}if(!s)throw Error(T(147,t));var n=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=n.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function In(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rc(t){var e=t._init;return e(t._payload)}function zd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function s(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function n(g,f){return g=er(g,f),g.index=0,g.sibling=null,g}function a(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,b){return f===null||f.tag!==6?(f=Ca(p,g.mode,b),f.return=g,f):(f=n(f,p),f.return=g,f)}function c(g,f,p,b){var _=p.type;return _===$r?d(g,f,p.props.children,b,p.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Rc(_)===f.type)?(b=n(f,p.props),b.ref=_s(g,f,p),b.return=g,b):(b=si(p.type,p.key,p.props,null,g.mode,b),b.ref=_s(g,f,p),b.return=g,b)}function u(g,f,p,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Ta(p,g.mode,b),f.return=g,f):(f=n(f,p.children||[]),f.return=g,f)}function d(g,f,p,b,_){return f===null||f.tag!==7?(f=vr(p,g.mode,b,_),f.return=g,f):(f=n(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ca(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case _n:return p=si(f.type,f.key,f.props,null,g.mode,p),p.ref=_s(g,null,f),p.return=g,p;case Lr:return f=Ta(f,g.mode,p),f.return=g,f;case zt:var b=f._init;return h(g,b(f._payload),p)}if(Ts(f)||ys(f))return f=vr(f,g.mode,p,null),f.return=g,f;In(g,f)}return null}function m(g,f,p,b){var _=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(g,f,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _n:return p.key===_?c(g,f,p,b):null;case Lr:return p.key===_?u(g,f,p,b):null;case zt:return _=p._init,m(g,f,_(p._payload),b)}if(Ts(p)||ys(p))return _!==null?null:d(g,f,p,b,null);In(g,p)}return null}function x(g,f,p,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,l(f,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _n:return g=g.get(b.key===null?p:b.key)||null,c(f,g,b,_);case Lr:return g=g.get(b.key===null?p:b.key)||null,u(f,g,b,_);case zt:var N=b._init;return x(g,f,p,N(b._payload),_)}if(Ts(b)||ys(b))return g=g.get(p)||null,d(f,g,b,_,null);In(f,b)}return null}function v(g,f,p,b){for(var _=null,N=null,S=f,A=f=0,D=null;S!==null&&A<p.length;A++){S.index>A?(D=S,S=null):D=S.sibling;var k=m(g,S,p[A],b);if(k===null){S===null&&(S=D);break}t&&S&&k.alternate===null&&e(g,S),f=a(k,f,A),N===null?_=k:N.sibling=k,N=k,S=D}if(A===p.length)return r(g,S),ae&&dr(g,A),_;if(S===null){for(;A<p.length;A++)S=h(g,p[A],b),S!==null&&(f=a(S,f,A),N===null?_=S:N.sibling=S,N=S);return ae&&dr(g,A),_}for(S=s(g,S);A<p.length;A++)D=x(S,g,A,p[A],b),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?A:D.key),f=a(D,f,A),N===null?_=D:N.sibling=D,N=D);return t&&S.forEach(function(C){return e(g,C)}),ae&&dr(g,A),_}function y(g,f,p,b){var _=ys(p);if(typeof _!="function")throw Error(T(150));if(p=_.call(p),p==null)throw Error(T(151));for(var N=_=null,S=f,A=f=0,D=null,k=p.next();S!==null&&!k.done;A++,k=p.next()){S.index>A?(D=S,S=null):D=S.sibling;var C=m(g,S,k.value,b);if(C===null){S===null&&(S=D);break}t&&S&&C.alternate===null&&e(g,S),f=a(C,f,A),N===null?_=C:N.sibling=C,N=C,S=D}if(k.done)return r(g,S),ae&&dr(g,A),_;if(S===null){for(;!k.done;A++,k=p.next())k=h(g,k.value,b),k!==null&&(f=a(k,f,A),N===null?_=k:N.sibling=k,N=k);return ae&&dr(g,A),_}for(S=s(g,S);!k.done;A++,k=p.next())k=x(S,g,A,k.value,b),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),f=a(k,f,A),N===null?_=k:N.sibling=k,N=k);return t&&S.forEach(function(R){return e(g,R)}),ae&&dr(g,A),_}function j(g,f,p,b){if(typeof p=="object"&&p!==null&&p.type===$r&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case _n:e:{for(var _=p.key,N=f;N!==null;){if(N.key===_){if(_=p.type,_===$r){if(N.tag===7){r(g,N.sibling),f=n(N,p.props.children),f.return=g,g=f;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===zt&&Rc(_)===N.type){r(g,N.sibling),f=n(N,p.props),f.ref=_s(g,N,p),f.return=g,g=f;break e}r(g,N);break}else e(g,N);N=N.sibling}p.type===$r?(f=vr(p.props.children,g.mode,b,p.key),f.return=g,g=f):(b=si(p.type,p.key,p.props,null,g.mode,b),b.ref=_s(g,f,p),b.return=g,g=b)}return o(g);case Lr:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=n(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else e(g,f);f=f.sibling}f=Ta(p,g.mode,b),f.return=g,g=f}return o(g);case zt:return N=p._init,j(g,f,N(p._payload),b)}if(Ts(p))return v(g,f,p,b);if(ys(p))return y(g,f,p,b);In(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=n(f,p),f.return=g,g=f):(r(g,f),f=Ca(p,g.mode,b),f.return=g,g=f),o(g)):r(g,f)}return j}var ns=zd(!0),Fd=zd(!1),xi=ir(null),yi=null,qr=null,dl=null;function hl(){dl=qr=yi=null}function fl(t){var e=xi.current;ne(xi),t._currentValue=e}function mo(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function Zr(t,e){yi=t,dl=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fe=!0),t.firstContext=null)}function nt(t){var e=t._currentValue;if(dl!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(yi===null)throw Error(T(308));qr=t,yi.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var gr=null;function ml(t){gr===null?gr=[t]:gr.push(t)}function Bd(t,e,r,s){var n=e.interleaved;return n===null?(r.next=r,ml(e)):(r.next=n.next,n.next=r),e.interleaved=r,Ot(t,s)}function Ot(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ft=!1;function pl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qt(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,G&2){var n=s.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),s.pending=e,Ot(t,r)}return n=s.interleaved,n===null?(e.next=e,ml(s)):(e.next=n.next,n.next=e),s.interleaved=e,Ot(t,r)}function Qn(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,el(t,r)}}function Oc(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?n=a=e:a=a.next=e}else n=a=e;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vi(t,e,r,s){var n=t.updateQueue;Ft=!1;var a=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=n.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,x=l.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,x=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(x,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(x,h,m):v,m==null)break e;h=ue({},h,m);break e;case 2:Ft=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=n.effects,m===null?n.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,o|=m;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;m=l,l=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);if(d===null&&(c=h),n.baseState=c,n.firstBaseUpdate=u,n.lastBaseUpdate=d,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else a===null&&(n.shared.lanes=0);_r|=o,t.lanes=o,t.memoizedState=h}}function Ic(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(T(191,n));n.call(s)}}}var pn={},jt=ir(pn),tn=ir(pn),rn=ir(pn);function xr(t){if(t===pn)throw Error(T(174));return t}function gl(t,e){switch(re(rn,e),re(tn,t),re(jt,pn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ka(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ka(e,t)}ne(jt),re(jt,e)}function is(){ne(jt),ne(tn),ne(rn)}function Hd(t){xr(rn.current);var e=xr(jt.current),r=Ka(e,t.type);e!==r&&(re(tn,t),re(jt,r))}function xl(t){tn.current===t&&(ne(jt),ne(tn))}var le=ir(0);function wi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ba=[];function yl(){for(var t=0;t<ba.length;t++)ba[t]._workInProgressVersionPrimary=null;ba.length=0}var Xn=Dt.ReactCurrentDispatcher,ja=Dt.ReactCurrentBatchConfig,jr=0,ce=null,xe=null,ve=null,bi=!1,$s=!1,sn=0,hp=0;function ke(){throw Error(T(321))}function vl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pt(t[r],e[r]))return!1;return!0}function wl(t,e,r,s,n,a){if(jr=a,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xn.current=t===null||t.memoizedState===null?gp:xp,t=r(s,n),$s){a=0;do{if($s=!1,sn=0,25<=a)throw Error(T(301));a+=1,ve=xe=null,e.updateQueue=null,Xn.current=yp,t=r(s,n)}while($s)}if(Xn.current=ji,e=xe!==null&&xe.next!==null,jr=0,ve=xe=ce=null,bi=!1,e)throw Error(T(300));return t}function bl(){var t=sn!==0;return sn=0,t}function yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ce.memoizedState=ve=t:ve=ve.next=t,ve}function it(){if(xe===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=ve===null?ce.memoizedState:ve.next;if(e!==null)ve=e,xe=t;else{if(t===null)throw Error(T(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ve===null?ce.memoizedState=ve=t:ve=ve.next=t}return ve}function nn(t,e){return typeof e=="function"?e(t):e}function _a(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var s=xe,n=s.baseQueue,a=r.pending;if(a!==null){if(n!==null){var o=n.next;n.next=a.next,a.next=o}s.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((jr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,ce.lanes|=d,_r|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,pt(s,e.memoizedState)||(Fe=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}if(t=r.interleaved,t!==null){n=t;do a=n.lane,ce.lanes|=a,_r|=a,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Na(t){var e=it(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var s=r.dispatch,n=r.pending,a=e.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do a=t(a,o.action),o=o.next;while(o!==n);pt(a,e.memoizedState)||(Fe=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,s]}function qd(){}function Vd(t,e){var r=ce,s=it(),n=e(),a=!pt(s.memoizedState,n);if(a&&(s.memoizedState=n,Fe=!0),s=s.queue,jl(Yd.bind(null,r,s,t),[t]),s.getSnapshot!==e||a||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,an(9,Gd.bind(null,r,s,n,e),void 0,null),we===null)throw Error(T(349));jr&30||Kd(r,e,n)}return n}function Kd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Gd(t,e,r,s){e.value=r,e.getSnapshot=s,Jd(e)&&Qd(t)}function Yd(t,e,r){return r(function(){Jd(e)&&Qd(t)})}function Jd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pt(t,r)}catch{return!0}}function Qd(t){var e=Ot(t,1);e!==null&&mt(e,t,1,-1)}function Dc(t){var e=yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:t},e.queue=t,t=t.dispatch=pp.bind(null,ce,t),[e.memoizedState,t]}function an(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function Xd(){return it().memoizedState}function Zn(t,e,r,s){var n=yt();ce.flags|=t,n.memoizedState=an(1|e,r,void 0,s===void 0?null:s)}function Fi(t,e,r,s){var n=it();s=s===void 0?null:s;var a=void 0;if(xe!==null){var o=xe.memoizedState;if(a=o.destroy,s!==null&&vl(s,o.deps)){n.memoizedState=an(e,r,a,s);return}}ce.flags|=t,n.memoizedState=an(1|e,r,a,s)}function Lc(t,e){return Zn(8390656,8,t,e)}function jl(t,e){return Fi(2048,8,t,e)}function Zd(t,e){return Fi(4,2,t,e)}function eh(t,e){return Fi(4,4,t,e)}function th(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rh(t,e,r){return r=r!=null?r.concat([t]):null,Fi(4,4,th.bind(null,e,t),r)}function _l(){}function sh(t,e){var r=it();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&vl(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function nh(t,e){var r=it();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&vl(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function ih(t,e,r){return jr&21?(pt(r,e)||(r=ud(),ce.lanes|=r,_r|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fe=!0),t.memoizedState=r)}function fp(t,e){var r=ee;ee=r!==0&&4>r?r:4,t(!0);var s=ja.transition;ja.transition={};try{t(!1),e()}finally{ee=r,ja.transition=s}}function ah(){return it().memoizedState}function mp(t,e,r){var s=Zt(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},oh(t))lh(e,r);else if(r=Bd(t,e,r,s),r!==null){var n=Ie();mt(r,t,s,n),ch(r,e,s)}}function pp(t,e,r){var s=Zt(t),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(oh(t))lh(e,n);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(n.hasEagerState=!0,n.eagerState=l,pt(l,o)){var c=e.interleaved;c===null?(n.next=n,ml(e)):(n.next=c.next,c.next=n),e.interleaved=n;return}}catch{}finally{}r=Bd(t,e,n,s),r!==null&&(n=Ie(),mt(r,t,s,n),ch(r,e,s))}}function oh(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function lh(t,e){$s=bi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ch(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,el(t,r)}}var ji={readContext:nt,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},gp={readContext:nt,useCallback:function(t,e){return yt().memoizedState=[t,e===void 0?null:e],t},useContext:nt,useEffect:Lc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Zn(4194308,4,th.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Zn(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zn(4,2,t,e)},useMemo:function(t,e){var r=yt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=yt();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=mp.bind(null,ce,t),[s.memoizedState,t]},useRef:function(t){var e=yt();return t={current:t},e.memoizedState=t},useState:Dc,useDebugValue:_l,useDeferredValue:function(t){return yt().memoizedState=t},useTransition:function(){var t=Dc(!1),e=t[0];return t=fp.bind(null,t[1]),yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=ce,n=yt();if(ae){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),we===null)throw Error(T(349));jr&30||Kd(s,e,r)}n.memoizedState=r;var a={value:r,getSnapshot:e};return n.queue=a,Lc(Yd.bind(null,s,a,t),[t]),s.flags|=2048,an(9,Gd.bind(null,s,a,r,e),void 0,null),r},useId:function(){var t=yt(),e=we.identifierPrefix;if(ae){var r=Et,s=Tt;r=(s&~(1<<32-ft(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=sn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xp={readContext:nt,useCallback:sh,useContext:nt,useEffect:jl,useImperativeHandle:rh,useInsertionEffect:Zd,useLayoutEffect:eh,useMemo:nh,useReducer:_a,useRef:Xd,useState:function(){return _a(nn)},useDebugValue:_l,useDeferredValue:function(t){var e=it();return ih(e,xe.memoizedState,t)},useTransition:function(){var t=_a(nn)[0],e=it().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Vd,useId:ah,unstable_isNewReconciler:!1},yp={readContext:nt,useCallback:sh,useContext:nt,useEffect:jl,useImperativeHandle:rh,useInsertionEffect:Zd,useLayoutEffect:eh,useMemo:nh,useReducer:Na,useRef:Xd,useState:function(){return Na(nn)},useDebugValue:_l,useDeferredValue:function(t){var e=it();return xe===null?e.memoizedState=t:ih(e,xe.memoizedState,t)},useTransition:function(){var t=Na(nn)[0],e=it().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Vd,useId:ah,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function po(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:ue({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bi={isMounted:function(t){return(t=t._reactInternals)?kr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=Ie(),n=Zt(t),a=Pt(s,n);a.payload=e,r!=null&&(a.callback=r),e=Qt(t,a,n),e!==null&&(mt(e,t,n,s),Qn(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=Ie(),n=Zt(t),a=Pt(s,n);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Qt(t,a,n),e!==null&&(mt(e,t,n,s),Qn(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ie(),s=Zt(t),n=Pt(r,s);n.tag=2,e!=null&&(n.callback=e),e=Qt(t,n,s),e!==null&&(mt(e,t,s,r),Qn(e,t,s))}};function $c(t,e,r,s,n,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!Qs(r,s)||!Qs(n,a):!0}function uh(t,e,r){var s=!1,n=sr,a=e.contextType;return typeof a=="object"&&a!==null?a=nt(a):(n=We(e)?wr:Ee.current,s=e.contextTypes,a=(s=s!=null)?rs(t,n):sr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bi,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=a),e}function Uc(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&Bi.enqueueReplaceState(e,e.state,null)}function go(t,e,r,s){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},pl(t);var a=e.contextType;typeof a=="object"&&a!==null?n.context=nt(a):(a=We(e)?wr:Ee.current,n.context=rs(t,a)),n.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(po(t,e,a,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Bi.enqueueReplaceState(n,n.state,null),vi(t,r,n,s),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function as(t,e){try{var r="",s=e;do r+=Vf(s),s=s.return;while(s);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:n,digest:null}}function Sa(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vp=typeof WeakMap=="function"?WeakMap:Map;function dh(t,e,r){r=Pt(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){Ni||(Ni=!0,Co=s),xo(t,e)},r}function hh(t,e,r){r=Pt(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var n=e.value;r.payload=function(){return s(n)},r.callback=function(){xo(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){xo(t,e),typeof s!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Mc(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new vp;var n=new Set;s.set(e,n)}else n=s.get(e),n===void 0&&(n=new Set,s.set(e,n));n.has(r)||(n.add(r),t=Op.bind(null,t,e,r),e.then(t,t))}function zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fc(t,e,r,s,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pt(-1,1),e.tag=2,Qt(r,e,1))),r.lanes|=1),t)}var wp=Dt.ReactCurrentOwner,Fe=!1;function Re(t,e,r,s){e.child=t===null?Fd(e,null,r,s):ns(e,t.child,r,s)}function Bc(t,e,r,s,n){r=r.render;var a=e.ref;return Zr(e,n),s=wl(t,e,r,s,a,n),r=bl(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,It(t,e,n)):(ae&&r&&ll(e),e.flags|=1,Re(t,e,s,n),e.child)}function Wc(t,e,r,s,n){if(t===null){var a=r.type;return typeof a=="function"&&!Al(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,fh(t,e,a,s,n)):(t=si(r.type,null,s,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&n)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(o,s)&&t.ref===e.ref)return It(t,e,n)}return e.flags|=1,t=er(a,s),t.ref=e.ref,t.return=e,e.child=t}function fh(t,e,r,s,n){if(t!==null){var a=t.memoizedProps;if(Qs(a,s)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=s=a,(t.lanes&n)!==0)t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,It(t,e,n)}return yo(t,e,r,s,n)}function mh(t,e,r){var s=e.pendingProps,n=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Kr,Ve),Ve|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Kr,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,re(Kr,Ve),Ve|=s}else a!==null?(s=a.baseLanes|r,e.memoizedState=null):s=r,re(Kr,Ve),Ve|=s;return Re(t,e,n,r),e.child}function ph(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yo(t,e,r,s,n){var a=We(r)?wr:Ee.current;return a=rs(e,a),Zr(e,n),r=wl(t,e,r,s,a,n),s=bl(),t!==null&&!Fe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,It(t,e,n)):(ae&&s&&ll(e),e.flags|=1,Re(t,e,r,n),e.child)}function Hc(t,e,r,s,n){if(We(r)){var a=!0;mi(e)}else a=!1;if(Zr(e,n),e.stateNode===null)ei(t,e),uh(e,r,s),go(e,r,s,n),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=nt(u):(u=We(r)?wr:Ee.current,u=rs(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Uc(e,o,s,u),Ft=!1;var m=e.memoizedState;o.state=m,vi(e,s,o,n),c=e.memoizedState,l!==s||m!==c||Be.current||Ft?(typeof d=="function"&&(po(e,r,d,s),c=e.memoizedState),(l=Ft||$c(e,r,l,s,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Wd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:lt(e.type,l),o.props=u,h=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=We(r)?wr:Ee.current,c=rs(e,c));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Uc(e,o,s,c),Ft=!1,m=e.memoizedState,o.state=m,vi(e,s,o,n);var v=e.memoizedState;l!==h||m!==v||Be.current||Ft?(typeof x=="function"&&(po(e,r,x,s),v=e.memoizedState),(u=Ft||$c(e,r,u,s,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return vo(t,e,r,s,a,n)}function vo(t,e,r,s,n,a){ph(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return n&&Ec(e,r,!1),It(t,e,a);s=e.stateNode,wp.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=ns(e,t.child,null,a),e.child=ns(e,null,l,a)):Re(t,e,l,a),e.memoizedState=s.state,n&&Ec(e,r,!0),e.child}function gh(t){var e=t.stateNode;e.pendingContext?Tc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tc(t,e.context,!1),gl(t,e.containerInfo)}function qc(t,e,r,s,n){return ss(),ul(n),e.flags|=256,Re(t,e,r,s),e.child}var wo={dehydrated:null,treeContext:null,retryLane:0};function bo(t){return{baseLanes:t,cachePool:null,transitions:null}}function xh(t,e,r){var s=e.pendingProps,n=le.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),re(le,n&1),t===null)return fo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=qi(o,s,0,null),t=vr(t,s,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=bo(r),e.memoizedState=wo,t):Nl(e,o));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return bp(t,e,o,s,l,n,r);if(a){a=s.fallback,o=e.mode,n=t.child,l=n.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==n?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=er(n,c),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=er(l,a):(a=vr(a,o,r,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?bo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=wo,s}return a=t.child,t=a.sibling,s=er(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function Nl(t,e){return e=qi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dn(t,e,r,s){return s!==null&&ul(s),ns(e,t.child,null,r),t=Nl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bp(t,e,r,s,n,a,o){if(r)return e.flags&256?(e.flags&=-257,s=Sa(Error(T(422))),Dn(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,n=e.mode,s=qi({mode:"visible",children:s.children},n,0,null),a=vr(a,n,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&ns(e,t.child,null,o),e.child.memoizedState=bo(o),e.memoizedState=wo,a);if(!(e.mode&1))return Dn(t,e,o,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(T(419)),s=Sa(a,s,void 0),Dn(t,e,o,s)}if(l=(o&t.childLanes)!==0,Fe||l){if(s=we,s!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|o)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Ot(t,n),mt(s,t,n,-1))}return Pl(),s=Sa(Error(T(421))),Dn(t,e,o,s)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=Ip.bind(null,t),n._reactRetry=e,null):(t=a.treeContext,Ke=Jt(n.nextSibling),Ge=e,ae=!0,dt=null,t!==null&&(Ze[et++]=Tt,Ze[et++]=Et,Ze[et++]=br,Tt=t.id,Et=t.overflow,br=e),e=Nl(e,s.children),e.flags|=4096,e)}function Vc(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),mo(t.return,e,r)}function ka(t,e,r,s,n){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function yh(t,e,r){var s=e.pendingProps,n=s.revealOrder,a=s.tail;if(Re(t,e,s.children,r),s=le.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vc(t,r,e);else if(t.tag===19)Vc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(re(le,s),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&wi(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),ka(e,!1,n,r,a);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&wi(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}ka(e,!0,r,null,a);break;case"together":ka(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ei(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=er(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=er(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jp(t,e,r){switch(e.tag){case 3:gh(e),ss();break;case 5:Hd(e);break;case 1:We(e.type)&&mi(e);break;case 4:gl(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,n=e.memoizedProps.value;re(xi,s._currentValue),s._currentValue=n;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(re(le,le.current&1),e.flags|=128,null):r&e.child.childLanes?xh(t,e,r):(re(le,le.current&1),t=It(t,e,r),t!==null?t.sibling:null);re(le,le.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return yh(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),re(le,le.current),s)break;return null;case 22:case 23:return e.lanes=0,mh(t,e,r)}return It(t,e,r)}var vh,jo,wh,bh;vh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jo=function(){};wh=function(t,e,r,s){var n=t.memoizedProps;if(n!==s){t=e.stateNode,xr(jt.current);var a=null;switch(r){case"input":n=Wa(t,n),s=Wa(t,s),a=[];break;case"select":n=ue({},n,{value:void 0}),s=ue({},s,{value:void 0}),a=[];break;case"textarea":n=Va(t,n),s=Va(t,s),a=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=hi)}Ga(r,s);var o;r=null;for(u in n)if(!s.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var l=n[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=n!=null?n[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&se("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};bh=function(t,e,r,s){r!==s&&(e.flags|=4)};function Ns(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function _p(t,e,r){var s=e.pendingProps;switch(cl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return We(e.type)&&fi(),Ce(e),null;case 3:return s=e.stateNode,is(),ne(Be),ne(Ee),yl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(On(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dt!==null&&(Po(dt),dt=null))),jo(t,e),Ce(e),null;case 5:xl(e);var n=xr(rn.current);if(r=e.type,t!==null&&e.stateNode!=null)wh(t,e,r,s,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return Ce(e),null}if(t=xr(jt.current),On(e)){s=e.stateNode,r=e.type;var a=e.memoizedProps;switch(s[wt]=e,s[en]=a,t=(e.mode&1)!==0,r){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(n=0;n<Ps.length;n++)se(Ps[n],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":tc(s,a),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},se("invalid",s);break;case"textarea":sc(s,a),se("invalid",s)}Ga(r,a),n=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Rn(s.textContent,l,t),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Rn(s.textContent,l,t),n=["children",""+l]):Hs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&se("scroll",s)}switch(r){case"input":Nn(s),rc(s,a,!0);break;case"textarea":Nn(s),nc(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=hi)}s=n,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yu(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[wt]=e,t[en]=s,vh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ya(r,s),r){case"dialog":se("cancel",t),se("close",t),n=s;break;case"iframe":case"object":case"embed":se("load",t),n=s;break;case"video":case"audio":for(n=0;n<Ps.length;n++)se(Ps[n],t);n=s;break;case"source":se("error",t),n=s;break;case"img":case"image":case"link":se("error",t),se("load",t),n=s;break;case"details":se("toggle",t),n=s;break;case"input":tc(t,s),n=Wa(t,s),se("invalid",t);break;case"option":n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=ue({},s,{value:void 0}),se("invalid",t);break;case"textarea":sc(t,s),n=Va(t,s),se("invalid",t);break;default:n=s}Ga(r,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Xu(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ju(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qs(t,c):typeof c=="number"&&qs(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hs.hasOwnProperty(a)?c!=null&&a==="onScroll"&&se("scroll",t):c!=null&&Go(t,a,c,o))}switch(r){case"input":Nn(t),rc(t,s,!1);break;case"textarea":Nn(t),nc(t);break;case"option":s.value!=null&&t.setAttribute("value",""+rr(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?Yr(t,!!s.multiple,a,!1):s.defaultValue!=null&&Yr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=hi)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)bh(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(r=xr(rn.current),xr(jt.current),On(e)){if(s=e.stateNode,r=e.memoizedProps,s[wt]=e,(a=s.nodeValue!==r)&&(t=Ge,t!==null))switch(t.tag){case 3:Rn(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rn(s.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[wt]=e,e.stateNode=s}return Ce(e),null;case 13:if(ne(le),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&Ke!==null&&e.mode&1&&!(e.flags&128))Md(),ss(),e.flags|=98560,a=!1;else if(a=On(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(T(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[wt]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),a=!1}else dt!==null&&(Po(dt),dt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?ye===0&&(ye=3):Pl())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return is(),jo(t,e),t===null&&Xs(e.stateNode.containerInfo),Ce(e),null;case 10:return fl(e.type._context),Ce(e),null;case 17:return We(e.type)&&fi(),Ce(e),null;case 19:if(ne(le),a=e.memoizedState,a===null)return Ce(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)Ns(a,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wi(t),o!==null){for(e.flags|=128,Ns(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)a=r,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return re(le,le.current&1|2),e.child}t=t.sibling}a.tail!==null&&he()>os&&(e.flags|=128,s=!0,Ns(a,!1),e.lanes=4194304)}else{if(!s)if(t=wi(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ns(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ae)return Ce(e),null}else 2*he()-a.renderingStartTime>os&&r!==1073741824&&(e.flags|=128,s=!0,Ns(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=he(),e.sibling=null,r=le.current,re(le,s?r&1|2:r&1),e):(Ce(e),null);case 22:case 23:return El(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Ve&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Np(t,e){switch(cl(e),e.tag){case 1:return We(e.type)&&fi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return is(),ne(Be),ne(Ee),yl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xl(e),null;case 13:if(ne(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(le),null;case 4:return is(),null;case 10:return fl(e.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Ln=!1,Te=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Vr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){de(t,e,s)}else r.current=null}function _o(t,e,r){try{r()}catch(s){de(t,e,s)}}var Kc=!1;function kp(t,e){if(io=ci,t=kd(),ol(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var x;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===t)break t;if(m===r&&++u===n&&(l=o),m===a&&++d===s&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ao={focusedElem:t,selectionRange:r},ci=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,j=v.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:lt(e.type,y),j);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(b){de(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return v=Kc,Kc=!1,v}function Us(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var a=n.destroy;n.destroy=void 0,a!==void 0&&_o(e,r,a)}n=n.next}while(n!==s)}}function Wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function No(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jh(t){var e=t.alternate;e!==null&&(t.alternate=null,jh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wt],delete e[en],delete e[co],delete e[lp],delete e[cp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _h(t){return t.tag===5||t.tag===3||t.tag===4}function Gc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_h(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function So(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hi));else if(s!==4&&(t=t.child,t!==null))for(So(t,e,r),t=t.sibling;t!==null;)So(t,e,r),t=t.sibling}function ko(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(ko(t,e,r),t=t.sibling;t!==null;)ko(t,e,r),t=t.sibling}var je=null,ct=!1;function $t(t,e,r){for(r=r.child;r!==null;)Nh(t,e,r),r=r.sibling}function Nh(t,e,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Di,r)}catch{}switch(r.tag){case 5:Te||Vr(r,e);case 6:var s=je,n=ct;je=null,$t(t,e,r),je=s,ct=n,je!==null&&(ct?(t=je,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(ct?(t=je,r=r.stateNode,t.nodeType===8?va(t.parentNode,r):t.nodeType===1&&va(t,r),Ys(t)):va(je,r.stateNode));break;case 4:s=je,n=ct,je=r.stateNode.containerInfo,ct=!0,$t(t,e,r),je=s,ct=n;break;case 0:case 11:case 14:case 15:if(!Te&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var a=n,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&_o(r,e,o),n=n.next}while(n!==s)}$t(t,e,r);break;case 1:if(!Te&&(Vr(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){de(r,e,l)}$t(t,e,r);break;case 21:$t(t,e,r);break;case 22:r.mode&1?(Te=(s=Te)||r.memoizedState!==null,$t(t,e,r),Te=s):$t(t,e,r);break;default:$t(t,e,r)}}function Yc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Sp),e.forEach(function(s){var n=Dp.bind(null,t,s);r.has(s)||(r.add(s),s.then(n,n))})}}function at(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:je=l.stateNode,ct=!1;break e;case 3:je=l.stateNode.containerInfo,ct=!0;break e;case 4:je=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(je===null)throw Error(T(160));Nh(a,o,n),je=null,ct=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(u){de(n,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sh(e,t),e=e.sibling}function Sh(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),xt(t),s&4){try{Us(3,t,t.return),Wi(3,t)}catch(y){de(t,t.return,y)}try{Us(5,t,t.return)}catch(y){de(t,t.return,y)}}break;case 1:at(e,t),xt(t),s&512&&r!==null&&Vr(r,r.return);break;case 5:if(at(e,t),xt(t),s&512&&r!==null&&Vr(r,r.return),t.flags&32){var n=t.stateNode;try{qs(n,"")}catch(y){de(t,t.return,y)}}if(s&4&&(n=t.stateNode,n!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Ku(n,a),Ya(l,o);var u=Ya(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Xu(n,h):d==="dangerouslySetInnerHTML"?Ju(n,h):d==="children"?qs(n,h):Go(n,d,h,u)}switch(l){case"input":Ha(n,a);break;case"textarea":Gu(n,a);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Yr(n,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Yr(n,!!a.multiple,a.defaultValue,!0):Yr(n,!!a.multiple,a.multiple?[]:"",!1))}n[en]=a}catch(y){de(t,t.return,y)}}break;case 6:if(at(e,t),xt(t),s&4){if(t.stateNode===null)throw Error(T(162));n=t.stateNode,a=t.memoizedProps;try{n.nodeValue=a}catch(y){de(t,t.return,y)}}break;case 3:if(at(e,t),xt(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ys(e.containerInfo)}catch(y){de(t,t.return,y)}break;case 4:at(e,t),xt(t);break;case 13:at(e,t),xt(t),n=t.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(Cl=he())),s&4&&Yc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Te=(u=Te)||d,at(e,t),Te=u):at(e,t),xt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(m=$,x=m.child,m.tag){case 0:case 11:case 14:case 15:Us(4,m,m.return);break;case 1:Vr(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){s=m,r=m.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){de(s,r,y)}}break;case 5:Vr(m,m.return);break;case 22:if(m.memoizedState!==null){Qc(h);continue}}x!==null?(x.return=m,$=x):Qc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{n=h.stateNode,u?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qu("display",o))}catch(y){de(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){de(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:at(e,t),xt(t),s&4&&Yc(t);break;case 21:break;default:at(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(_h(r)){var s=r;break e}r=r.return}throw Error(T(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(qs(n,""),s.flags&=-33);var a=Gc(t);ko(t,a,n);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Gc(t);So(t,l,o);break;default:throw Error(T(161))}}catch(c){de(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cp(t,e,r){$=t,kh(t)}function kh(t,e,r){for(var s=(t.mode&1)!==0;$!==null;){var n=$,a=n.child;if(n.tag===22&&s){var o=n.memoizedState!==null||Ln;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Te;l=Ln;var u=Te;if(Ln=o,(Te=c)&&!u)for($=n;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Xc(n):c!==null?(c.return=o,$=c):Xc(n);for(;a!==null;)$=a,kh(a),a=a.sibling;$=n,Ln=l,Te=u}Jc(t)}else n.subtreeFlags&8772&&a!==null?(a.return=n,$=a):Jc(t)}}function Jc(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||Wi(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Te)if(r===null)s.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:lt(e.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Ic(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ic(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ys(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||e.flags&512&&No(e)}catch(m){de(e,e.return,m)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function Qc(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function Xc(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wi(4,e)}catch(c){de(e,r,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var n=e.return;try{s.componentDidMount()}catch(c){de(e,n,c)}}var a=e.return;try{No(e)}catch(c){de(e,a,c)}break;case 5:var o=e.return;try{No(e)}catch(c){de(e,o,c)}}}catch(c){de(e,e.return,c)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var Tp=Math.ceil,_i=Dt.ReactCurrentDispatcher,Sl=Dt.ReactCurrentOwner,rt=Dt.ReactCurrentBatchConfig,G=0,we=null,me=null,_e=0,Ve=0,Kr=ir(0),ye=0,on=null,_r=0,Hi=0,kl=0,Ms=null,Me=null,Cl=0,os=1/0,St=null,Ni=!1,Co=null,Xt=null,$n=!1,Vt=null,Si=0,zs=0,To=null,ti=-1,ri=0;function Ie(){return G&6?he():ti!==-1?ti:ti=he()}function Zt(t){return t.mode&1?G&2&&_e!==0?_e&-_e:dp.transition!==null?(ri===0&&(ri=ud()),ri):(t=ee,t!==0||(t=window.event,t=t===void 0?16:xd(t.type)),t):1}function mt(t,e,r,s){if(50<zs)throw zs=0,To=null,Error(T(185));hn(t,r,s),(!(G&2)||t!==we)&&(t===we&&(!(G&2)&&(Hi|=r),ye===4&&Wt(t,_e)),He(t,s),r===1&&G===0&&!(e.mode&1)&&(os=he()+500,zi&&ar()))}function He(t,e){var r=t.callbackNode;dm(t,e);var s=li(t,t===we?_e:0);if(s===0)r!==null&&oc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&oc(r),e===1)t.tag===0?up(Zc.bind(null,t)):Ld(Zc.bind(null,t)),ap(function(){!(G&6)&&ar()}),r=null;else{switch(dd(s)){case 1:r=Zo;break;case 4:r=ld;break;case 16:r=oi;break;case 536870912:r=cd;break;default:r=oi}r=Ih(r,Ch.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ch(t,e){if(ti=-1,ri=0,G&6)throw Error(T(327));var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var s=li(t,t===we?_e:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=ki(t,s);else{e=s;var n=G;G|=2;var a=Eh();(we!==t||_e!==e)&&(St=null,os=he()+500,yr(t,e));do try{Ap();break}catch(l){Th(t,l)}while(!0);hl(),_i.current=a,G=n,me!==null?e=0:(we=null,_e=0,e=ye)}if(e!==0){if(e===2&&(n=eo(t),n!==0&&(s=n,e=Eo(t,n))),e===1)throw r=on,yr(t,0),Wt(t,s),He(t,he()),r;if(e===6)Wt(t,s);else{if(n=t.current.alternate,!(s&30)&&!Ep(n)&&(e=ki(t,s),e===2&&(a=eo(t),a!==0&&(s=a,e=Eo(t,a))),e===1))throw r=on,yr(t,0),Wt(t,s),He(t,he()),r;switch(t.finishedWork=n,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:hr(t,Me,St);break;case 3:if(Wt(t,s),(s&130023424)===s&&(e=Cl+500-he(),10<e)){if(li(t,0)!==0)break;if(n=t.suspendedLanes,(n&s)!==s){Ie(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=lo(hr.bind(null,t,Me,St),e);break}hr(t,Me,St);break;case 4:if(Wt(t,s),(s&4194240)===s)break;for(e=t.eventTimes,n=-1;0<s;){var o=31-ft(s);a=1<<o,o=e[o],o>n&&(n=o),s&=~a}if(s=n,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Tp(s/1960))-s,10<s){t.timeoutHandle=lo(hr.bind(null,t,Me,St),s);break}hr(t,Me,St);break;case 5:hr(t,Me,St);break;default:throw Error(T(329))}}}return He(t,he()),t.callbackNode===r?Ch.bind(null,t):null}function Eo(t,e){var r=Ms;return t.current.memoizedState.isDehydrated&&(yr(t,e).flags|=256),t=ki(t,e),t!==2&&(e=Me,Me=r,e!==null&&Po(e)),t}function Po(t){Me===null?Me=t:Me.push.apply(Me,t)}function Ep(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!pt(a(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wt(t,e){for(e&=~kl,e&=~Hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ft(e),s=1<<r;t[r]=-1,e&=~s}}function Zc(t){if(G&6)throw Error(T(327));es();var e=li(t,0);if(!(e&1))return He(t,he()),null;var r=ki(t,e);if(t.tag!==0&&r===2){var s=eo(t);s!==0&&(e=s,r=Eo(t,s))}if(r===1)throw r=on,yr(t,0),Wt(t,e),He(t,he()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hr(t,Me,St),He(t,he()),null}function Tl(t,e){var r=G;G|=1;try{return t(e)}finally{G=r,G===0&&(os=he()+500,zi&&ar())}}function Nr(t){Vt!==null&&Vt.tag===0&&!(G&6)&&es();var e=G;G|=1;var r=rt.transition,s=ee;try{if(rt.transition=null,ee=1,t)return t()}finally{ee=s,rt.transition=r,G=e,!(G&6)&&ar()}}function El(){Ve=Kr.current,ne(Kr)}function yr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ip(r)),me!==null)for(r=me.return;r!==null;){var s=r;switch(cl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fi();break;case 3:is(),ne(Be),ne(Ee),yl();break;case 5:xl(s);break;case 4:is();break;case 13:ne(le);break;case 19:ne(le);break;case 10:fl(s.type._context);break;case 22:case 23:El()}r=r.return}if(we=t,me=t=er(t.current,null),_e=Ve=e,ye=0,on=null,kl=Hi=_r=0,Me=Ms=null,gr!==null){for(e=0;e<gr.length;e++)if(r=gr[e],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=n,s.next=o}r.pending=s}gr=null}return t}function Th(t,e){do{var r=me;try{if(hl(),Xn.current=ji,bi){for(var s=ce.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}bi=!1}if(jr=0,ve=xe=ce=null,$s=!1,sn=0,Sl.current=null,r===null||r.return===null){ye=1,on=e,me=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=_e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=zc(o);if(x!==null){x.flags&=-257,Fc(x,o,l,a,e),x.mode&1&&Mc(a,u,e),e=x,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Mc(a,u,e),Pl();break e}c=Error(T(426))}}else if(ae&&l.mode&1){var j=zc(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Fc(j,o,l,a,e),ul(as(c,l));break e}}a=c=as(c,l),ye!==4&&(ye=2),Ms===null?Ms=[a]:Ms.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=dh(a,c,e);Oc(a,g);break e;case 1:l=c;var f=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xt===null||!Xt.has(p)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=hh(a,l,e);Oc(a,b);break e}}a=a.return}while(a!==null)}Ah(r)}catch(_){e=_,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function Eh(){var t=_i.current;return _i.current=ji,t===null?ji:t}function Pl(){(ye===0||ye===3||ye===2)&&(ye=4),we===null||!(_r&268435455)&&!(Hi&268435455)||Wt(we,_e)}function ki(t,e){var r=G;G|=2;var s=Eh();(we!==t||_e!==e)&&(St=null,yr(t,e));do try{Pp();break}catch(n){Th(t,n)}while(!0);if(hl(),G=r,_i.current=s,me!==null)throw Error(T(261));return we=null,_e=0,ye}function Pp(){for(;me!==null;)Ph(me)}function Ap(){for(;me!==null&&!rm();)Ph(me)}function Ph(t){var e=Oh(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?Ah(t):me=e,Sl.current=null}function Ah(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Np(r,e),r!==null){r.flags&=32767,me=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,me=null;return}}else if(r=_p(r,e,Ve),r!==null){me=r;return}if(e=e.sibling,e!==null){me=e;return}me=e=t}while(e!==null);ye===0&&(ye=5)}function hr(t,e,r){var s=ee,n=rt.transition;try{rt.transition=null,ee=1,Rp(t,e,r,s)}finally{rt.transition=n,ee=s}return null}function Rp(t,e,r,s){do es();while(Vt!==null);if(G&6)throw Error(T(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(hm(t,a),t===we&&(me=we=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$n||($n=!0,Ih(oi,function(){return es(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rt.transition,rt.transition=null;var o=ee;ee=1;var l=G;G|=4,Sl.current=null,kp(t,r),Sh(r,t),Xm(ao),ci=!!io,ao=io=null,t.current=r,Cp(r),sm(),G=l,ee=o,rt.transition=a}else t.current=r;if($n&&($n=!1,Vt=t,Si=n),a=t.pendingLanes,a===0&&(Xt=null),am(r.stateNode),He(t,he()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Ni)throw Ni=!1,t=Co,Co=null,t;return Si&1&&t.tag!==0&&es(),a=t.pendingLanes,a&1?t===To?zs++:(zs=0,To=t):zs=0,ar(),null}function es(){if(Vt!==null){var t=dd(Si),e=rt.transition,r=ee;try{if(rt.transition=null,ee=16>t?16:t,Vt===null)var s=!1;else{if(t=Vt,Vt=null,Si=0,G&6)throw Error(T(331));var n=G;for(G|=4,$=t.current;$!==null;){var a=$,o=a.child;if($.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Us(8,d,a)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var m=d.sibling,x=d.return;if(jh(d),d===u){$=null;break}if(m!==null){m.return=x,$=m;break}$=x}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}$=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,$=o;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Us(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,$=g;break e}$=a.return}}var f=t.current;for($=f;$!==null;){o=$;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,$=p;else e:for(o=f;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wi(9,l)}}catch(_){de(l,l.return,_)}if(l===o){$=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,$=b;break e}$=l.return}}if(G=n,ar(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Di,t)}catch{}s=!0}return s}finally{ee=r,rt.transition=e}}return!1}function eu(t,e,r){e=as(r,e),e=dh(t,e,1),t=Qt(t,e,1),e=Ie(),t!==null&&(hn(t,1,e),He(t,e))}function de(t,e,r){if(t.tag===3)eu(t,t,r);else for(;e!==null;){if(e.tag===3){eu(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xt===null||!Xt.has(s))){t=as(r,t),t=hh(e,t,1),e=Qt(e,t,1),t=Ie(),e!==null&&(hn(e,1,t),He(e,t));break}}e=e.return}}function Op(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&r,we===t&&(_e&r)===r&&(ye===4||ye===3&&(_e&130023424)===_e&&500>he()-Cl?yr(t,0):kl|=r),He(t,e)}function Rh(t,e){e===0&&(t.mode&1?(e=Cn,Cn<<=1,!(Cn&130023424)&&(Cn=4194304)):e=1);var r=Ie();t=Ot(t,e),t!==null&&(hn(t,e,r),He(t,r))}function Ip(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Rh(t,r)}function Dp(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),Rh(t,r)}var Oh;Oh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)Fe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Fe=!1,jp(t,e,r);Fe=!!(t.flags&131072)}else Fe=!1,ae&&e.flags&1048576&&$d(e,gi,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;ei(t,e),t=e.pendingProps;var n=rs(e,Ee.current);Zr(e,r),n=wl(null,e,s,t,n,r);var a=bl();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(s)?(a=!0,mi(e)):a=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,pl(e),n.updater=Bi,e.stateNode=n,n._reactInternals=e,go(e,s,t,r),e=vo(null,e,s,!0,a,r)):(e.tag=0,ae&&a&&ll(e),Re(null,e,n,r),e=e.child),e;case 16:s=e.elementType;e:{switch(ei(t,e),t=e.pendingProps,n=s._init,s=n(s._payload),e.type=s,n=e.tag=$p(s),t=lt(s,t),n){case 0:e=yo(null,e,s,t,r);break e;case 1:e=Hc(null,e,s,t,r);break e;case 11:e=Bc(null,e,s,t,r);break e;case 14:e=Wc(null,e,s,lt(s.type,t),r);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:lt(s,n),yo(t,e,s,n,r);case 1:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:lt(s,n),Hc(t,e,s,n,r);case 3:e:{if(gh(e),t===null)throw Error(T(387));s=e.pendingProps,a=e.memoizedState,n=a.element,Wd(t,e),vi(e,s,null,r);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){n=as(Error(T(423)),e),e=qc(t,e,s,r,n);break e}else if(s!==n){n=as(Error(T(424)),e),e=qc(t,e,s,r,n);break e}else for(Ke=Jt(e.stateNode.containerInfo.firstChild),Ge=e,ae=!0,dt=null,r=Fd(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ss(),s===n){e=It(t,e,r);break e}Re(t,e,s,r)}e=e.child}return e;case 5:return Hd(e),t===null&&fo(e),s=e.type,n=e.pendingProps,a=t!==null?t.memoizedProps:null,o=n.children,oo(s,n)?o=null:a!==null&&oo(s,a)&&(e.flags|=32),ph(t,e),Re(t,e,o,r),e.child;case 6:return t===null&&fo(e),null;case 13:return xh(t,e,r);case 4:return gl(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ns(e,null,s,r):Re(t,e,s,r),e.child;case 11:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:lt(s,n),Bc(t,e,s,n,r);case 7:return Re(t,e,e.pendingProps,r),e.child;case 8:return Re(t,e,e.pendingProps.children,r),e.child;case 12:return Re(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,n=e.pendingProps,a=e.memoizedProps,o=n.value,re(xi,s._currentValue),s._currentValue=o,a!==null)if(pt(a.value,o)){if(a.children===n.children&&!Be.current){e=It(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=Pt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),mo(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(T(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mo(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Re(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,s=e.pendingProps.children,Zr(e,r),n=nt(n),s=s(n),e.flags|=1,Re(t,e,s,r),e.child;case 14:return s=e.type,n=lt(s,e.pendingProps),n=lt(s.type,n),Wc(t,e,s,n,r);case 15:return fh(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:lt(s,n),ei(t,e),e.tag=1,We(s)?(t=!0,mi(e)):t=!1,Zr(e,r),uh(e,s,n),go(e,s,n,r),vo(null,e,s,!0,t,r);case 19:return yh(t,e,r);case 22:return mh(t,e,r)}throw Error(T(156,e.tag))};function Ih(t,e){return od(t,e)}function Lp(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,r,s){return new Lp(t,e,r,s)}function Al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $p(t){if(typeof t=="function")return Al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jo)return 11;if(t===Qo)return 14}return 2}function er(t,e){var r=t.alternate;return r===null?(r=tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function si(t,e,r,s,n,a){var o=2;if(s=t,typeof t=="function")Al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $r:return vr(r.children,n,a,e);case Yo:o=8,n|=8;break;case Ma:return t=tt(12,r,e,n|2),t.elementType=Ma,t.lanes=a,t;case za:return t=tt(13,r,e,n),t.elementType=za,t.lanes=a,t;case Fa:return t=tt(19,r,e,n),t.elementType=Fa,t.lanes=a,t;case Hu:return qi(r,n,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bu:o=10;break e;case Wu:o=9;break e;case Jo:o=11;break e;case Qo:o=14;break e;case zt:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=tt(o,r,e,n),e.elementType=t,e.type=s,e.lanes=a,e}function vr(t,e,r,s){return t=tt(7,t,s,e),t.lanes=r,t}function qi(t,e,r,s){return t=tt(22,t,s,e),t.elementType=Hu,t.lanes=r,t.stateNode={isHidden:!1},t}function Ca(t,e,r){return t=tt(6,t,null,e),t.lanes=r,t}function Ta(t,e,r){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Up(t,e,r,s,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=la(0),this.expirationTimes=la(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Rl(t,e,r,s,n,a,o,l,c){return t=new Up(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=tt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(a),t}function Mp(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function Dh(t){if(!t)return sr;t=t._reactInternals;e:{if(kr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(We(r))return Dd(t,r,e)}return e}function Lh(t,e,r,s,n,a,o,l,c){return t=Rl(r,s,!0,t,n,a,o,l,c),t.context=Dh(null),r=t.current,s=Ie(),n=Zt(r),a=Pt(s,n),a.callback=e??null,Qt(r,a,n),t.current.lanes=n,hn(t,n,s),He(t,s),t}function Vi(t,e,r,s){var n=e.current,a=Ie(),o=Zt(n);return r=Dh(r),e.context===null?e.context=r:e.pendingContext=r,e=Pt(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Qt(n,e,o),t!==null&&(mt(t,n,o,a),Qn(t,n,o)),o}function Ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ol(t,e){tu(t,e),(t=t.alternate)&&tu(t,e)}function zp(){return null}var $h=typeof reportError=="function"?reportError:function(t){console.error(t)};function Il(t){this._internalRoot=t}Ki.prototype.render=Il.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Vi(t,e,null,null)};Ki.prototype.unmount=Il.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nr(function(){Vi(null,t,null,null)}),e[Rt]=null}};function Ki(t){this._internalRoot=t}Ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=md();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Bt.length&&e!==0&&e<Bt[r].priority;r++);Bt.splice(r,0,t),r===0&&gd(t)}};function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ru(){}function Fp(t,e,r,s,n){if(n){if(typeof s=="function"){var a=s;s=function(){var u=Ci(o);a.call(u)}}var o=Lh(e,s,t,0,null,!1,!1,"",ru);return t._reactRootContainer=o,t[Rt]=o.current,Xs(t.nodeType===8?t.parentNode:t),Nr(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var u=Ci(c);l.call(u)}}var c=Rl(t,0,!1,null,null,!1,!1,"",ru);return t._reactRootContainer=c,t[Rt]=c.current,Xs(t.nodeType===8?t.parentNode:t),Nr(function(){Vi(e,c,r,s)}),c}function Yi(t,e,r,s,n){var a=r._reactRootContainer;if(a){var o=a;if(typeof n=="function"){var l=n;n=function(){var c=Ci(o);l.call(c)}}Vi(e,o,t,n)}else o=Fp(r,e,t,n,s);return Ci(o)}hd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Es(e.pendingLanes);r!==0&&(el(e,r|1),He(e,he()),!(G&6)&&(os=he()+500,ar()))}break;case 13:Nr(function(){var s=Ot(t,1);if(s!==null){var n=Ie();mt(s,t,1,n)}}),Ol(t,1)}};tl=function(t){if(t.tag===13){var e=Ot(t,134217728);if(e!==null){var r=Ie();mt(e,t,134217728,r)}Ol(t,134217728)}};fd=function(t){if(t.tag===13){var e=Zt(t),r=Ot(t,e);if(r!==null){var s=Ie();mt(r,t,e,s)}Ol(t,e)}};md=function(){return ee};pd=function(t,e){var r=ee;try{return ee=t,e()}finally{ee=r}};Qa=function(t,e,r){switch(e){case"input":if(Ha(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var n=Mi(s);if(!n)throw Error(T(90));Vu(s),Ha(s,n)}}}break;case"textarea":Gu(t,r);break;case"select":e=r.value,e!=null&&Yr(t,!!r.multiple,e,!1)}};td=Tl;rd=Nr;var Bp={usingClientEntryPoint:!1,Events:[mn,Fr,Mi,Zu,ed,Tl]},Ss={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wp={bundleType:Ss.bundleType,version:Ss.version,rendererPackageName:Ss.rendererPackageName,rendererConfig:Ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=id(t),t===null?null:t.stateNode},findFiberByHostInstance:Ss.findFiberByHostInstance||zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Un=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Un.isDisabled&&Un.supportsFiber)try{Di=Un.inject(Wp),bt=Un}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(e))throw Error(T(200));return Mp(t,e,null,r)};Qe.createRoot=function(t,e){if(!Dl(t))throw Error(T(299));var r=!1,s="",n=$h;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=Rl(t,1,!1,null,null,r,!1,s,n),t[Rt]=e.current,Xs(t.nodeType===8?t.parentNode:t),new Il(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=id(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Nr(t)};Qe.hydrate=function(t,e,r){if(!Gi(e))throw Error(T(200));return Yi(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!Dl(t))throw Error(T(405));var s=r!=null&&r.hydratedSources||null,n=!1,a="",o=$h;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Lh(e,null,t,1,r??null,n,!1,a,o),t[Rt]=e.current,Xs(t),s)for(t=0;t<s.length;t++)r=s[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new Ki(e)};Qe.render=function(t,e,r){if(!Gi(e))throw Error(T(200));return Yi(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!Gi(t))throw Error(T(40));return t._reactRootContainer?(Nr(function(){Yi(null,null,t,!1,function(){t._reactRootContainer=null,t[Rt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Tl;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!Gi(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Yi(t,e,r,!1,s)};Qe.version="18.3.1-next-f1338f8080-20240426";function Uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uh)}catch(t){console.error(t)}}Uh(),Uu.exports=Qe;var Hp=Uu.exports,Mh,su=Hp;Mh=su.createRoot,su.hydrateRoot;const qp="modulepreload",Vp=function(t){return"/"+t},nu={},gn=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=Vp(c),c in nu)return;nu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":qp,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},Kp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>ms);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Ll extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Gp extends Ll{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iu extends Ll{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class au extends Ll{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ao;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ao||(Ao={}));var Yp=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class Jp{constructor(e,{headers:r={},customFetch:s,region:n=Ao.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Kp(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return Yp(this,void 0,void 0,function*(){try{const{headers:n,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:d}).catch(y=>{throw new Gp(y)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new iu(h);if(!h.ok)throw new au(h);let x=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield h.json():x==="application/octet-stream"?v=yield h.blob():x==="text/event-stream"?v=h:x==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof au||n instanceof iu?n.context:void 0}}})}}var ze={},$l={},Ji={},xn={},Qi={},Xi={},Qp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=Qp();const Xp=ls.fetch,zh=ls.fetch.bind(ls),Fh=ls.Headers,Zp=ls.Request,eg=ls.Response,ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fh,Request:Zp,Response:eg,default:zh,fetch:Xp},Symbol.toStringTag,{value:"Module"})),tg=yf(ms);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});let rg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Zi.default=rg;var Bh=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const sg=Bh(tg),ng=Bh(Zi);let ig=class{constructor(e){var r,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c,u;let d=null,h=null,m=null,x=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const f=await a.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,x=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await a.text();try{d=JSON.parse(j),Array.isArray(d)&&a.status===404&&(h=[],d=null,x=200,v="OK")}catch{a.status===404&&j===""?(x=204,v="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,x=200,v="OK"),d&&this.shouldThrowOnError)throw new ng.default(d)}return{error:d,data:h,count:m,status:x,statusText:v}});return this.shouldThrowOnError||(n=n.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};Xi.default=ig;var ag=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qi,"__esModule",{value:!0});const og=ag(Xi);let lg=class extends og.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Qi.default=lg;var cg=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xn,"__esModule",{value:!0});const ug=cg(Qi);let dg=class extends ug.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${a}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};xn.default=dg;var hg=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const ks=hg(xn);let fg=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=new Headers(r),this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:s=!0}={}){var n;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ks.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:a=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ks.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var s;const n="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:e}={}){var r;const s="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ks.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ji.default=fg;var Wh=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($l,"__esModule",{value:!0});const mg=Wh(Ji),pg=Wh(xn);let gg=class Hh{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new mg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;s||n?(l=s?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new pg.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};$l.default=gg;var ps=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const qh=ps($l);ze.PostgrestClient=qh.default;const Vh=ps(Ji);ze.PostgrestQueryBuilder=Vh.default;const Kh=ps(xn);ze.PostgrestFilterBuilder=Kh.default;const Gh=ps(Qi);ze.PostgrestTransformBuilder=Gh.default;const Yh=ps(Xi);ze.PostgrestBuilder=Yh.default;const Jh=ps(Zi);ze.PostgrestError=Jh.default;var xg=ze.default={PostgrestClient:qh.default,PostgrestQueryBuilder:Vh.default,PostgrestFilterBuilder:Kh.default,PostgrestTransformBuilder:Gh.default,PostgrestBuilder:Yh.default,PostgrestError:Jh.default};const{PostgrestClient:yg,PostgrestQueryBuilder:_y,PostgrestFilterBuilder:Ny,PostgrestTransformBuilder:Sy,PostgrestBuilder:ky,PostgrestError:Cy}=xg;class vg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wg="2.15.5",bg=`realtime-js/${wg}`,jg="1.0.0",Ro=1e4,_g=1e3,Ng=100;var Fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fs||(Fs={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var ut;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ut||(ut={}));var Oo;(function(t){t.websocket="websocket"})(Oo||(Oo={}));var mr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mr||(mr={}));class Sg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+n));o=o+n;const c=s.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Qh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const ou=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((a,o)=>(a[o]=kg(o,t,e,n),a),{})},kg=(t,e,r,s)=>{const n=e.find(l=>l.name===t),a=n==null?void 0:n.type,o=r[t];return a&&!s.includes(a)?Xh(a,o):Io(o)},Xh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Pg(e,r)}switch(t){case te.bool:return Cg(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Tg(e);case te.json:case te.jsonb:return Eg(e);case te.timestamp:return Ag(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Io(e);default:return Io(e)}},Io=t=>t,Cg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Eg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Pg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Xh(e,l))}return t},Ag=t=>typeof t=="string"?t.replace(" ","T"):t,Zh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ea{constructor(e,r,s={},n=Ro){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var lu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(lu||(lu={}));class Bs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,n,a,o),this.pendingDiffs.forEach(c=>{this.state=Bs.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},n=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Bs.syncDiff(this.state,n,a,o),l())}),this.onJoin((n,a,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:a,newPresences:o})}),this.onLeave((n,a,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const m=d.map(j=>j.presence_ref),x=h.map(j=>j.presence_ref),v=d.filter(j=>x.indexOf(j.presence_ref)<0),y=h.filter(j=>m.indexOf(j.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},s,n)}static syncDiff(e,r,s,n){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(x=>x.presence_ref),m=d.filter(x=>h.indexOf(x.presence_ref)<0);e[l].unshift(...m)}s(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,n(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cu||(cu={}));var Ws;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ws||(Ws={}));var kt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kt||(kt={}));class Ul{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ea(this,ut.join,this.params,this.timeout),this.rejoinTimer=new Qh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(n,a)=>{this._trigger(this._replyEventName(a),n)}),this.presence=new Bs(this),this.broadcastEndpointURL=Zh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&n!==void 0?n:[],d=!!this.bindings[Ws.PRESENCE]&&this.bindings[Ws.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(kt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(kt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){e==null||e(kt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,j=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,g=[];for(let f=0;f<j;f++){const p=y[f],{filter:{event:b,schema:_,table:N,filter:S}}=p,A=x&&x[f];if(A&&A.event===b&&A.schema===_&&A.table===N&&A.filter===S)g.push(Object.assign(Object.assign({},p),{id:A.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(kt.SUBSCRIBED);return}}).receive("error",x=>{this.state=pe.errored,e==null||e(kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===pe.joined&&e===Ws.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Ea(this,ut.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,a=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(a),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ea(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ng){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ut;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(x=>{var v,y,j;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(y=x.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(x=>x.callback(m,s)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var v,y,j,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,_=(v=x.filter)===null||v===void 0?void 0:v.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(f=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:y,table:j,commit_timestamp:g,type:f,errors:p}=v;m=Object.assign(Object.assign({},{schema:y,table:j,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(v))}x.callback(m,s)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),a={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var a;return!(((a=n.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&Ul.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ut.close,{},e)}_onError(e){this._on(ut.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=ou(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=ou(e.columns,e.old_record)),r}}const Pa=()=>{},Mn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rg=[1e3,2e3,5e3,1e4],Og=1e4,Ig=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dg{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ro,this.transport=null,this.heartbeatIntervalMs=Mn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pa,this.ref=0,this.reconnectTimer=null,this.logger=Pa,this.conn=null,this.sendBuffer=[],this.serializer=new Sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let a;return n?a=n:typeof fetch>"u"?a=(...o)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>ms);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Oo.websocket}`,this.httpEndpoint=Zh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Fs.connecting:return mr.Connecting;case Fs.open:return mr.Open;case Fs.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===s);if(n)return n;{const a=new Ul(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:s,payload:n,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${a})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_g,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Mn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${s} ${n} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(n,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ut.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Ig],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:bg};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Qh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,a,o,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Ro,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:Mn.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Pa,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>Rg[h-1]||Og,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lg extends Ml{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Do extends Ml{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var $g=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>ms);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Ug=()=>$g(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>ms),void 0)).Response:Response}),Lo=t=>{if(Array.isArray(t))return t.map(r=>Lo(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[n]=Lo(s)}),e},Mg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Cr=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const Aa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zg=(t,e,r)=>Cr(void 0,void 0,void 0,function*(){const s=yield Ug();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const a=t.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new Lg(Aa(n),a,o))}).catch(n=>{e(new Do(Aa(n),n))}):e(new Do(Aa(t),t))}),Fg=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(Mg(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function yn(t,e,r,s,n,a){return Cr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Fg(e,s,n,a)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>zg(c,l,s))})})}function Ti(t,e,r,s){return Cr(this,void 0,void 0,function*(){return yn(t,"GET",e,r,s)})}function vt(t,e,r,s,n){return Cr(this,void 0,void 0,function*(){return yn(t,"POST",e,s,n,r)})}function $o(t,e,r,s,n){return Cr(this,void 0,void 0,function*(){return yn(t,"PUT",e,s,n,r)})}function Bg(t,e,r,s){return Cr(this,void 0,void 0,function*(){return yn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function tf(t,e,r,s,n){return Cr(this,void 0,void 0,function*(){return yn(t,"DELETE",e,s,n,r)})}var Ae=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const Wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hg{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=ef(n)}uploadOrUpdate(e,r,s,n){return Ae(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},uu),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?$o:vt)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}upload(e,r,s){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return Ae(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:uu.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield $o(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:h.Key},error:null}}catch(c){if(ge(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ae(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const a=yield vt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new Ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}update(e,r,s){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Ae(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(e,r,s){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield vt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return Ae(this,void 0,void 0,function*(){try{const n=yield vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(e,r){return Ae(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ti(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}info(e){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lo(s),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}exists(e){return Ae(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Bg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(ge(s)&&s instanceof Do){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&n.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}list(e,r,s){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Wg),r),{prefix:e||""});return{data:yield vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}listV2(e,r){return Ae(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const qg="2.11.1",Vg={"X-Client-Info":`storage-js/${qg}`};var Er=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class Kg{constructor(e,r={},s,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Vg),r),this.fetch=ef(s)}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Er(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}}class Gg extends Kg{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new Hg(this.url,this.headers,e,this.fetch)}}const Yg="2.57.2";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const Jg={"X-Client-Info":`supabase-js-${As}/${Yg}`},Qg={headers:Jg},Xg={schema:"public"},Zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e0={};var t0=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};const r0=t=>{let e;return t?e=t:typeof fetch>"u"?e=zh:e=fetch,(...r)=>e(...r)},s0=()=>typeof Headers>"u"?Fh:Headers,n0=(t,e,r)=>{const s=r0(r),n=s0();return(a,o)=>t0(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(a,Object.assign(Object.assign({},o),{headers:u}))})};var i0=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};function a0(t){return t.endsWith("/")?t:t+"/"}function o0(t,e){var r,s;const{db:n,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>i0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const rf="2.71.1",Ir=30*1e3,Uo=3,Ra=Uo*Ir,l0="http://localhost:9999",c0="supabase.auth.token",u0={"X-Client-Info":`gotrue-js/${rf}`},Mo="X-Supabase-Api-Version",sf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h0=10*60*1e3;class zl extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class f0 extends zl{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function m0(t){return F(t)&&t.name==="AuthApiError"}class nf extends zl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class or extends zl{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Mt extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p0(t){return F(t)&&t.name==="AuthSessionMissingError"}class zn extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fn extends or{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bn extends or{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g0(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class du extends or{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zo extends or{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Oa(t){return F(t)&&t.name==="AuthRetryableFetchError"}class hu extends or{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Fo extends or{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fu=` 	
\r=`.split(""),x0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fu.length;e+=1)t[fu[e].charCodeAt(0)]=-2;for(let e=0;e<Ei.length;e+=1)t[Ei[e].charCodeAt(0)]=e;return t})();function mu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ei[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Ei[s]),e.queuedBits-=6}}function af(t,e,r){const s=x0[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},a=o=>{w0(o,s,r)};for(let o=0;o<t.length;o+=1)af(t.charCodeAt(o),n,a);return e.join("")}function y0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function v0(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}y0(s,e)}}function w0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function b0(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)af(t.charCodeAt(n),r,s);return new Uint8Array(e)}function j0(t){const e=[];return v0(t,r=>e.push(r)),new Uint8Array(e)}function _0(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>mu(n,r,s)),mu(null,r,s),e.join("")}function N0(t){return Math.round(Date.now()/1e3)+t}function S0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},of=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function k0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,a)=>{e[a]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const lf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>gn(async()=>{const{default:s}=await Promise.resolve().then(()=>ms);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},C0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Dr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(t,e)=>{await t.removeItem(e)};class ea{constructor(){this.promise=new ea.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ea.promiseConstructor=Promise;function Ia(t){const e=t.split(".");if(e.length!==3)throw new Fo("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!d0.test(e[s]))throw new Fo("JWT not in base64url format");return{header:JSON.parse(pu(e[0])),payload:JSON.parse(pu(e[1])),signature:b0(e[2]),raw:{header:e[0],payload:e[1]}}}async function T0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function E0(t,e){return new Promise((s,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){s(o);return}}catch(o){if(!e(a,o)){n(o);return}}})()})}function P0(t){return("0"+t.toString(16)).substr(-2)}function A0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let a=0;a<56;a++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,P0).join("")}async function R0(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function O0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await R0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,e,r=!1){const s=A0();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Dr(t,`${e}-code-verifier`,n);const a=await O0(s);return[a,s===a?"plain":"s256"]}const I0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D0(t){const e=t.headers.get(Mo);if(!e||!e.match(I0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function L0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function $0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(t){if(!U0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Da(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gu(t){return JSON.parse(JSON.stringify(t))}var M0=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const fr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z0=[502,503,504];async function xu(t){var e;if(!C0(t))throw new zo(fr(t),0);if(z0.includes(t.status))throw new zo(fr(t),t.status);let r;try{r=await t.json()}catch(a){throw new nf(fr(a),a)}let s;const n=D0(t);if(n&&n.getTime()>=sf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new hu(fr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hu(fr(r),t.status,r.weak_password.reasons);throw new f0(fr(r),t.status||500,s)}const F0=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function q(t,e,r,s){var n;const a=Object.assign({},s==null?void 0:s.headers);a[Mo]||(a[Mo]=sf["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await B0(t,e,r+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function B0(t,e,r,s,n,a){const o=F0(e,s,n,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new zo(fr(c),0)}if(l.ok||await xu(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await xu(c)}}function Nt(t){var e;let r=null;V0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=N0(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function yu(t){const e=Nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W0(t){return{data:t,error:null}}function H0(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a}=t,o=M0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function q0(t){return t}function V0(t){return t.access_token&&t.refresh_token&&t.expires_in}const La=["global","local","others"];var K0=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class G0{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=lf(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=La[0]){if(La.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${La.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ht})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=K0(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:H0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:q0});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=y}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ar(e);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ar(e);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ht})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Ar(e);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ht})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ar(e.userId);try{const{data:r,error:s}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ar(e.userId),Ar(e.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}function vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Y0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class J0 extends cf{}async function Q0(t,e,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new J0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Y0();const X0={url:l0,storageKey:c0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wu(t,e,r){return await r()}const Or={};class ln{constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ln.nextInstanceID,ln.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},X0),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new G0({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=lf(n.fetch),this.lock=n.lock||wu,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ot()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Q0:this.lock=wu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:of()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vu(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=vu(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Or[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Or[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=k0(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ot()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:a}=await this._getSessionFromURL(r,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),g0(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new nf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Nt}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,s,n;try{let a;if("email"in e){const{email:d,password:h,options:m}=e;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await Pr(this.storage,this.storageKey)),a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:v},xform:Nt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;a=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(n=m==null?void 0:m.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Nt})}else throw new Fn("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yu})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yu})}else throw new Fn("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new zn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,s,n,a,o,l,c,u,d,h,m,x;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:j,wallet:g,statement:f,options:p}=e;let b;if(ot())if(typeof g=="object")b=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(n=(s=p==null?void 0:p.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:j,error:g}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_0(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Nt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new zn}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(F(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:a,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Nt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zn}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:n??null}),error:o})}catch(a){if(F(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:a,nonce:o}=e,l=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new zn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pr(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fn("You must provide either an email or phone number.")}catch(l){if(F(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,s;try{let n,a;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Nt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Pr(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:W0})}catch(a){if(F(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Mt;const{error:n}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:a}=e,{error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:a}=e,{data:o,error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Fn("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ur(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Da()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ht}):await this._useSession(async r=>{var s,n,a;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0,xform:Ht})})}catch(r){if(F(r))return p0(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:a}=s;if(a)throw a;if(!n.session)throw new Mt;const o=n.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Pr(this.storage,this.storageKey));const{data:u,error:d}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ht});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Mt;const r=Date.now()/1e3;let s=r,n=!0,a=null;const{payload:o}=Ia(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Mt;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ot())throw new Bn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new du("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Bn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const x=m-d;x*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:y,error:j}=await this._getUser(a);if(j)throw j;const g={provider_token:s,provider_refresh_token:n,access_token:a,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(s){if(F(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:a}=r;if(a)return{error:a};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(m0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=S0(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:a},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Pr(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(F(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return ot()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(F(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:a,error:o}=r;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await E0(async n=>(n>0&&await T0(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})),(n,a)=>{const o=200*Math.pow(2,n);return a&&Oa(a)&&Date.now()+o-s<Ir})}catch(s){if(this._debug(r,"error",s),F(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ot()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ur(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Dr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Da()}else if(n&&!n.user&&!n.user){const o=await ur(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Ut(this.storage,this.storageKey+"-user"),await Dr(this.storage,this.storageKey,n)):n.user=Da()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const a=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ra;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${Ra}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Oa(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(n.access_token);!l&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ea;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Mt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(n,"error",a),F(a)){const o={session:null,error:a};return Oa(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Dr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const a=gu(n);await Dr(this.storage,this.storageKey,a)}else{const n=gu(r);await Dr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Uo} ticks`),n<=Uo&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof cf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Pr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);n.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;return a?{data:null,error:a}:await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:a}=r;return a?{data:null,error:a}:await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ia(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+h0>n)return s;const{data:a,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=n,s=a.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};s=x.session.access_token}const{header:n,payload:a,signature:o,raw:{header:l,payload:c}}=Ia(s);r!=null&&r.allowExpired||L0(a.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:n,signature:o},error:null}}const d=$0(n.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,j0(`${l}.${c}`)))throw new Fo("Invalid JWT signature");return{data:{claims:a,header:n,signature:o},error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}}ln.nextInstanceID=0;const Z0=ln;class ex extends Z0{constructor(e){super(e)}}var tx=function(t,e,r,s){function n(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(s.next(d))}catch(h){o(h)}}function c(d){try{u(s.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):n(d.value).then(l,c)}u((s=s.apply(t,e||[])).next())})};class rx{constructor(e,r,s){var n,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=a0(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Xg,realtime:e0,auth:Object.assign(Object.assign({},Zg),{storageKey:u}),global:Qg},h=o0(s??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=n0(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new yg(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Gg(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Jp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return tx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:a,storageKey:o,flowType:l,lock:c,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ex({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:a,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sx=(t,e,r)=>new rx(t,e,r);function nx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ix="https://zugrppguuehmxxacapxt.supabase.co",ax="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1Z3JwcGd1dWVobXh4YWNhcHh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNjQ1OTgsImV4cCI6MjA3Mjc0MDU5OH0.yaD7EKizcdPiLMJ8HnZVC5sHdg1056x6HvhTBm1HD7g",K=sx(ix,ax),uf=w.createContext(void 0);function ox({children:t}){const[e,r]=w.useState(null),[s,n]=w.useState(null),[a,o]=w.useState(!0);w.useEffect(()=>{K.auth.getSession().then(({data:{session:x}})=>{r((x==null?void 0:x.user)??null),x!=null&&x.user&&l(x.user.id),o(!1)});const{data:{subscription:m}}=K.auth.onAuthStateChange(async(x,v)=>{r((v==null?void 0:v.user)??null),v!=null&&v.user?l(v.user.id):n(null),o(!1)});return()=>m.unsubscribe()},[]);const l=async m=>{const{data:x,error:v}=await K.from("user_profiles").select("*").eq("id",m);!v&&x&&x.length>0?n(x[0]):n(null)},h={user:e,userProfile:s,loading:a,signIn:async(m,x)=>{const{error:v}=await K.auth.signInWithPassword({email:m,password:x});return{error:v}},signUp:async(m,x,v)=>{const{data:y,error:j}=await K.auth.signUp({email:m,password:x});if(!j&&y.user){const{error:g}=await K.from("user_profiles").insert({id:y.user.id,full_name:v});return{error:g}}return{error:j}},signOut:async()=>{await K.auth.signOut()}};return i.jsx(uf.Provider,{value:h,children:t})}function $e(){const t=w.useContext(uf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cx=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),bu=t=>{const e=cx(t);return e.charAt(0).toUpperCase()+e.slice(1)},df=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),ux=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...dx,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:df("lucide",n),...!a&&!ux(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(t,e)=>{const r=w.forwardRef(({className:s,...n},a)=>w.createElement(hx,{ref:a,iconNode:e,className:df(`lucide-${lx(bu(t))}`,`lucide-${t}`,s),...n}));return r.displayName=bu(t),r};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Je=Y("arrow-left",fx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ju=Y("arrow-right",mx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gx=Y("camera",px);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oe=Y("calendar",xx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Fl=Y("car",yx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hf=Y("circle-plus",vx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cs=Y("circle-question-mark",wx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pi=Y("clock",bx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ff=Y("dollar-sign",jx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nx=Y("eye-off",_x);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kx=Y("eye",Sx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ai=Y("globe",Cx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ex=Y("heart",Tx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ax=Y("lock",Px);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bl=Y("log-out",Rx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cn=Y("mail",Ox);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wl=Y("map-pin",Ix);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],un=Y("message-circle",Dx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ri=Y("message-square",Lx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Ux=Y("navigation",$x);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zx=Y("phone",Mx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],vn=Y("plane",Fx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mf=Y("plus",Bx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hl=Y("save",Wx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pf=Y("search",Hx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wn=Y("send",qx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_u=Y("shield",Vx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gf=Y("star",Kx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ta=Y("triangle-alert",Gx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jx=Y("upload",Yx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ht=Y("user",Qx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$a=Y("users",Xx);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gs=Y("x",Zx);function ey(){const[t,e]=w.useState(!1),[r,s]=w.useState("credentials"),[n,a]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[m,x]=w.useState(!1),[v,y]=w.useState(""),[j,g]=w.useState(""),[f,p]=w.useState(!1),[b,_]=w.useState(0),[N,S]=w.useState(!1),{signIn:A,signUp:D}=$e();Lu.useEffect(()=>{let P;return b>0&&(P=setInterval(()=>{_(I=>I<=1?(p(!0),0):I-1)},1e3)),()=>clearInterval(P)},[b]);const k=async(P,I)=>{try{const B=await fetch("https://zugrppguuehmxxacapxt.supabase.co/functions/v1/signup-otp-with-domain-check",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1Z3JwcGd1dWVobXh4YWNhcHh0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNjQ1OTgsImV4cCI6MjA3Mjc0MDU5OH0.yaD7EKizcdPiLMJ8HnZVC5sHdg1056x6HvhTBm1HD7g","Content-Type":"application/json"},body:JSON.stringify({email:P,type:I})}),Q=await B.json();if(!B.ok)throw new Error(Q.error||"Failed to send OTP");return p(!1),_(60),Q}catch(B){throw new Error(B.message||"Failed to send OTP")}},C=async()=>{if(!(!f||!j)){x(!0),y("");try{await k(j,t?"signup":"signin"),y("")}catch(P){y(P.message)}finally{x(!1)}}},R=async()=>{try{const{data:P,error:I}=await K.auth.verifyOtp({email:j,token:d,type:"magiclink"});if(I)throw I;if(t&&P.user&&c){const{error:B}=await K.from("user_profiles").insert({id:P.user.id,full_name:c});B&&console.error("Profile creation error:",B)}return P}catch(P){throw new Error(P.message||"Invalid OTP code")}},L=async P=>{P.preventDefault(),x(!0),y("");try{if(r==="credentials")if(t)await k(n,"signup"),g(n),s("otp-verification");else{const{error:I}=await A(n,o);if(I)if(I.message.includes("Invalid login credentials"))y("Invalid credentials. Would you like to sign in with OTP instead?");else throw I}else r==="otp-verification"&&await R()}catch(I){y(I.message)}finally{x(!1)}},M=async()=>{x(!0),y("");try{await k(n,"signin"),g(n),s("otp-verification")}catch(P){y(P.message)}finally{x(!1)}},U=()=>{s("credentials"),h(""),y(""),p(!1),_(0)},ie=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P),X=P=>{if(!P||!P.includes("@")||!P.includes("."))return"";const I=P.split("@");if(I.length!==2)return"";const B=I[1];if(!B||!B.includes("."))return"";const Q=P.toLowerCase().split("@")[1];return Q?["gmail.com","googlemail.com","yahoo.com","yahoo.co.uk","yahoo.ca","yahoo.in","outlook.com","hotmail.com","live.com","icloud.com","me.com","mac.com","aol.com","protonmail.com","proton.me"].includes(Q)?"✅ Gmail domain accepted":Q.endsWith(".edu")?"✅ Educational domain accepted":Q.endsWith(".ac.uk")?"✅ UK academic domain accepted":"❌ Domain not allowed. Only Gmail, Yahoo, Outlook, educational institutions, and approved domains are permitted.":""},E=P=>{P.preventDefault(),alert("Thank you for reaching out! Please email us at support@rideyaari.com or call 1-800-TRIPSHARE for immediate assistance."),S(!1)};return N?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-2 sm:p-4",children:i.jsx("div",{className:"w-full max-w-sm sm:max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 text-white rounded-full mb-3 sm:mb-4",children:i.jsx(cs,{size:20,className:"sm:w-7 sm:h-7"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Need Help?"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"We're here to help you get started with RideYaari"})]}),i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Common Issues & Solutions"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Email domain not allowed:"})," Only Gmail, Yahoo, Outlook, and educational domains (.edu, .ac.uk) are permitted"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Didn't receive OTP:"})," Check your spam folder and ensure your email is correct"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Account already exists:"}),' Try signing in instead, or use "Sign in with Email OTP"']}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"OTP expired:"})," Request a new verification code"]})]})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Support"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(cn,{size:16,className:"text-gray-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Email Support"}),i.jsx("p",{className:"text-gray-600",children:"support@rideyaari.com"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-600",children:"📞"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Phone Support"}),i.jsx("p",{className:"text-gray-600",children:"CALL"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:i.jsx("span",{className:"text-gray-600",children:"💬"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Live Chat"}),i.jsx("p",{className:"text-gray-600",children:"Available 24/7 on our website"})]})]})]})]}),i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Quick Message (Optional)"}),i.jsx("textarea",{rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base resize-none",placeholder:"Describe your issue or question..."})]}),i.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base",children:"Send Message"})]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("button",{onClick:()=>S(!1),className:"flex items-center justify-center space-x-2 w-full text-gray-600 hover:text-gray-800 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:14,className:"sm:w-4 sm:h-4"}),i.jsxs("span",{children:["Back to ",t?"Sign Up":"Sign In"]})]})})]})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-2 sm:p-4",children:i.jsx("div",{className:"w-full max-w-sm sm:max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8",children:[i.jsx("div",{className:"flex justify-end mb-4",children:i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700 transition-colors text-sm",children:[i.jsx(cs,{size:16}),i.jsx("span",{children:"Help"})]})}),i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 text-white rounded-full mb-3 sm:mb-4",children:r==="otp-verification"?i.jsx(_u,{size:20,className:"sm:w-7 sm:h-7"}):i.jsx(vn,{size:20,className:"sm:w-7 sm:h-7"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"RideYaari"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r==="otp-verification"?"Enter verification code":t?"Create your account":"Welcome"})]}),v&&i.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-xs sm:text-sm",children:v}),i.jsxs("form",{onSubmit:L,className:"space-y-4 sm:space-y-6",children:[r==="credentials"&&i.jsxs(i.Fragment,{children:[t&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(ht,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"text",value:c,onChange:P=>u(P.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Enter your full name",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(cn,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"email",value:n,onChange:P=>a(P.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Enter your email",required:!0})]}),n&&ie(n)&&i.jsx("p",{className:`text-xs sm:text-sm mt-1 ${X(n).startsWith("✅")?"text-green-600":"text-red-600"}`,children:X(n)}),t&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only Gmail, educational (.edu, .ac.uk), and approved domains are allowed"})]}),!t&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ax,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"password",value:o,onChange:P=>l(P.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Enter your password",required:!0})]})]})]}),r==="otp-verification"&&i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"We've sent a verification code to:"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:j}),t&&i.jsx("p",{className:"text-xs sm:text-sm text-blue-600 mt-2",children:"If you previously started signup with this email, this code will complete your registration."})]}),i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2 text-center",children:"Enter 6-digit verification code"}),i.jsxs("div",{className:"relative",children:[i.jsx(_u,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"text",value:d,onChange:P=>h(P.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-center text-base sm:text-lg tracking-widest",placeholder:"000000",maxLength:6,required:!0})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center mt-2",children:"Check your email for the verification code"}),i.jsx("div",{className:"text-center mt-4",children:f?i.jsx("button",{type:"button",onClick:C,disabled:m,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors disabled:opacity-50 text-sm",children:"Resend verification code"}):i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Resend code in ",Math.floor(b/60),":",(b%60).toString().padStart(2,"0")]})})]}),i.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:m?"Please wait...":r==="otp-verification"?"Verify Code":t?"Send Verification Code":"Sign In"})]}),r==="credentials"&&!t&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"text-center text-gray-500 text-xs sm:text-sm mb-3",children:"or"}),i.jsx("button",{onClick:M,disabled:m||!n||!ie(n),className:"w-full border border-gray-300 text-gray-700 py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:"Sign in with Email OTP"})]}),r==="otp-verification"&&i.jsx("div",{className:"mt-4",children:i.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center space-x-2 text-gray-600 hover:text-gray-800 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:14,className:"sm:w-4 sm:h-4"}),i.jsxs("span",{children:["Back to ",t?"Sign Up":"Sign In"]})]})}),i.jsx("div",{className:"mt-6 text-center",children:r==="credentials"&&i.jsx("button",{onClick:()=>{e(!t),y(""),l("")},className:"text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm sm:text-base",children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})})}function ty({isOpen:t,onClose:e}){return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 relative animate-fade-in",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(gs,{size:24})}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx("span",{className:"text-3xl mr-2",children:"🇮🇳"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Made in India"})]}),i.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"RideYaari is proudly developed in India with love and dedication to connect travelers worldwide."}),i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-green-50 rounded-lg p-4 mb-6 border border-orange-200",children:[i.jsxs("div",{className:"flex items-center justify-center mb-3",children:[i.jsx(Ex,{size:20,className:"text-red-500 mr-2"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Help Us Grow! 🚀"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["RideYaari is completely ",i.jsx("strong",{children:"free to use"})," and grows stronger with every new user. The more people who join our community, the better connections and opportunities we can create for everyone."]}),i.jsx("p",{className:"text-sm text-blue-600 font-medium mb-4",children:"Please share RideYaari with your friends, family, and fellow travelers. Together, we can build the world's most helpful travel community! ✈️🚗"}),i.jsxs("div",{className:"flex justify-center space-x-3",children:[i.jsxs("button",{onClick:()=>{const r=encodeURIComponent(window.location.origin),s=encodeURIComponent("Check out RideYaari - Connect with travelers worldwide for airport trips and car rides!");window.open(`https://wa.me/?text=${s}%20${r}`,"_blank")},className:"flex items-center justify-center px-3 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-sm",title:"Share on WhatsApp",children:[i.jsx("span",{className:"mr-1",children:"📱"}),i.jsx("span",{children:"WhatsApp"})]}),i.jsxs("button",{onClick:()=>{window.open("https://www.instagram.com/","_blank")},className:"flex items-center justify-center px-3 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-lg transition-colors text-sm",title:"Share on Instagram",children:[i.jsx("span",{className:"mr-1",children:"📷"}),i.jsx("span",{children:"Instagram"})]}),i.jsxs("button",{onClick:async()=>{if(navigator.share&&navigator.canShare&&navigator.canShare({title:"RideYaari",text:"Check out RideYaari - Connect with travelers worldwide!",url:window.location.origin}))try{await navigator.share({title:"RideYaari",text:"Check out RideYaari - Connect with travelers worldwide!",url:window.location.origin})}catch{navigator.clipboard.writeText(window.location.origin),alert("Website link copied to clipboard!")}else navigator.clipboard.writeText(window.location.origin),alert("Website link copied to clipboard!")},className:"flex items-center justify-center px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors text-sm",title:"Share Link",children:[i.jsx("span",{className:"mr-1",children:"🌐"}),i.jsx("span",{children:"Share"})]})]})]}),i.jsx("button",{onClick:e,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Get Started with RideYaari"})]})]})}):null}function ql({onStartChat:t}){const{user:e}=$e(),[r,s]=w.useState(0),[n,a]=w.useState([]),[o,l]=w.useState(!1),[c,u]=w.useState(!1);w.useEffect(()=>{if(e){d();const y=K.channel("messages_notification").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`receiver_id=eq.${e.id}`},()=>{d(),o&&h()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:`receiver_id=eq.${e.id}`},j=>{j.new.is_read===!0&&j.old.is_read===!1&&(d(),o&&h())}).subscribe();return()=>{y.unsubscribe()}}},[e,o]);const d=async()=>{if(e)try{const{count:y,error:j}=await K.from("chat_messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);j||s(y||0)}catch(y){console.error("Error fetching unread count:",y)}},h=async()=>{if(e){u(!0);try{const{data:y,error:j}=await K.from("chat_messages").select(`
          *,
          sender:user_profiles!chat_messages_sender_id_fkey (
            id,
            full_name,
            profile_image_url
          ),
          receiver:user_profiles!chat_messages_receiver_id_fkey (
            id,
            full_name,
            profile_image_url
          )
        `).or(`sender_id.eq.${e.id},receiver_id.eq.${e.id}`).order("created_at",{ascending:!1});if(!j&&y){const g=new Map;for(const f of y){const p=f.sender_id===e.id?f.receiver_id:f.sender_id,b=f.sender_id===e.id?f.receiver:f.sender;if(!g.has(p)){const _=y.filter(N=>N.sender_id===p&&N.receiver_id===e.id&&!N.is_read).length;g.set(p,{id:f.id,other_user_id:p,other_user_name:(b==null?void 0:b.full_name)||"Unknown",other_user:b,last_message:f.message_content,last_message_time:f.created_at,unread_count:_})}}a(Array.from(g.values()))}}catch(y){console.error("Error fetching conversations:",y)}finally{u(!1)}}},m=()=>{l(!o),o||h()},x=async(y,j)=>{const{error:g}=await K.from("chat_messages").update({is_read:!0}).eq("sender_id",y).eq("receiver_id",e==null?void 0:e.id);g||(await d(),await h()),l(!1),t(y,j)},v=y=>{const j=new Date(y);return(new Date().getTime()-j.getTime())/(1e3*60*60)<24?j.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):j.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:m,className:"relative flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(un,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Messages"}),r>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center",children:r>99?"99+":r})]}),o&&i.jsxs("div",{className:"fixed inset-x-2 top-16 sm:absolute sm:right-0 sm:top-full sm:inset-x-auto mt-2 w-auto sm:w-80 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-[80vh] sm:max-h-96",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Messages"}),i.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(gs,{size:18,className:"sm:w-5 sm:h-5"})})]}),i.jsx("div",{className:"overflow-y-auto",children:c?i.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Loading conversations..."}):n.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No conversations yet"}):n.map(y=>{var j;return i.jsx("div",{onClick:()=>x(y.other_user_id,y.other_user_name),className:"p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 text-white rounded-full overflow-hidden",children:(j=y.other_user)!=null&&j.profile_image_url?i.jsx("img",{src:y.other_user.profile_image_url,alt:y.other_user_name,className:"w-full h-full object-cover"}):i.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:y.other_user_name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:y.other_user_name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:v(y.last_message_time)}),y.unread_count>0&&i.jsx("span",{className:"bg-blue-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center",children:y.unread_count})]})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate mt-1",children:y.last_message})]})]})},y.other_user_id)})})]})]})}function Vl({title:t="What Our Users Say",maxReviews:e=10}){const[r,s]=w.useState([]),[n,a]=w.useState(!0),[o,l]=w.useState("");w.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:m,error:x}=await K.from("reviews").select("*").order("created_at",{ascending:!1});if(x)throw x;s(m||[])}catch(m){l("Failed to load reviews"),console.error("Error fetching reviews:",m)}finally{a(!1)}},u=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=m=>i.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(x=>i.jsx(gf,{size:16,className:x<=m?"text-yellow-400 fill-current":"text-gray-300"},x))}),h=()=>r.length===0?0:(r.reduce((x,v)=>x+v.rating,0)/r.length).toFixed(1);return n?i.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading reviews..."})]})}):o?i.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ri,{size:32,className:"text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:o})]})}):r.length===0?i.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ri,{size:32,className:"text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),i.jsx("p",{className:"text-gray-600",children:"Be the first to share your RideYaari experience!"})]})}):i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d(Math.round(parseFloat(h()))),i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:h()}),i.jsxs("span",{className:"text-gray-600",children:["(",r.length," review",r.length!==1?"s":"",")"]})]})]}),i.jsx("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:r.map(m=>i.jsxs("div",{className:"border-b border-gray-100 pb-6 last:border-b-0 last:pb-0",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-blue-100 rounded-full",children:i.jsx("span",{className:"font-semibold text-blue-600 text-sm",children:m.reviewer_name.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:m.reviewer_name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[d(m.rating),i.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[i.jsx(Oe,{size:12,className:"mr-1"}),u(m.created_at)]})]})]})]})}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.review_content})]},m.id))})]})}function Nu({onSelectPlatform:t,onProfile:e,onHelp:r,onStartChat:s}){const{userProfile:n,signOut:a}=$e();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-8 space-y-2 sm:space-y-0",children:[i.jsx("div",{}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:space-x-4",children:[i.jsxs("button",{onClick:r,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(cs,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Help"})]}),i.jsx(ql,{onStartChat:s}),i.jsxs("button",{onClick:e,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(ht,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Welcome,"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate max-w-24 sm:max-w-none",children:n==null?void 0:n.full_name})]}),(n==null?void 0:n.profile_image_url)&&i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden",children:i.jsx("img",{src:n.profile_image_url,alt:n.full_name,className:"w-full h-full object-cover"})}),i.jsxs("button",{onClick:a,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(Bl,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-2 sm:mb-4",children:"RideYaari"}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-4 sm:mb-8 px-2",children:"Your global platform for sharing rides and airport trips"})]}),i.jsxs("div",{className:"max-w-full sm:max-w-xl md:max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 sm:mb-4 px-2",children:"Choose Your Service"}),i.jsx("p",{className:"text-base sm:text-lg text-gray-600 px-2",children:"Select the type of sharing service you need"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8 px-2",children:[i.jsx("div",{onClick:()=>t("airport"),className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(vn,{size:28,className:"sm:w-10 sm:h-10 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Airport Trips"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Share your flight itinerary with other travelers for convenient airport deliveries, pickups, or assistance services"}),i.jsxs("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:[i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Package delivery & pickup"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Travel assistance"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Airport companionship"]})]}),i.jsxs("div",{className:"inline-flex items-center text-blue-600 font-semibold group-hover:text-blue-700 text-sm sm:text-base",children:["Explore Airport Trips",i.jsx(ju,{size:16,className:"sm:w-5 sm:h-5 ml-2 transform group-hover:translate-x-1 transition-transform"})]})]})}),i.jsx("div",{onClick:()=>t("car"),className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(Fl,{size:28,className:"sm:w-10 sm:h-10 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Car Rides"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Find or offer car rides to share travel costs and reduce environmental impact through carpooling"}),i.jsxs("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:[i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full mr-2"}),"Cost-effective travel"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full mr-2"}),"Eco-friendly carpooling"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full mr-2"}),"Flexible scheduling"]})]}),i.jsxs("div",{className:"inline-flex items-center text-green-600 font-semibold group-hover:text-green-700 text-sm sm:text-base",children:["Explore Car Rides",i.jsx(ju,{size:16,className:"sm:w-5 sm:h-5 ml-2 transform group-hover:translate-x-1 transition-transform"})]})]})})]}),i.jsxs("div",{className:"mt-8 sm:mt-16 bg-white rounded-2xl shadow-lg p-4 sm:p-8 mx-2",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 text-center",children:"Why Choose RideYaari?"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"1"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Safe & Secure"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"All communications happen within our secure platform with user verification"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"2"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Global Network"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Connect with travelers and drivers worldwide for maximum convenience"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"3"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Easy to Use"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Intuitive interface makes posting and finding trips simple and fast"})]})]})]}),i.jsx("div",{className:"mt-8 sm:mt-16 px-2",children:i.jsx(Vl,{title:"What Our Community Says",maxReviews:6})})]})]})})}function ry({onPostTrip:t,onFindTrip:e,onProfile:r,onBack:s,onHelp:n,onStartChat:a}){const{userProfile:o,signOut:l}=$e();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-8 space-y-2 sm:space-y-0",children:[i.jsx("div",{}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:space-x-4",children:[i.jsxs("button",{onClick:s,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),i.jsxs("button",{onClick:n,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(cs,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Help"})]}),a&&i.jsx(ql,{onStartChat:a}),i.jsxs("button",{onClick:r,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(ht,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Welcome back,"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate max-w-24 sm:max-w-none",children:o==null?void 0:o.full_name})]}),(o==null?void 0:o.profile_image_url)&&i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden",children:i.jsx("img",{src:o.profile_image_url,alt:o.full_name,className:"w-full h-full object-cover"})}),i.jsxs("button",{onClick:l,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(Bl,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),i.jsxs("div",{className:"max-w-full sm:max-w-xl md:max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 text-white rounded-full mx-auto mb-2 sm:mb-4",children:i.jsx(vn,{size:20,className:"sm:w-6 sm:h-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:"Airport Trips"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 px-2",children:"Share flight itineraries for deliveries and assistance"})]})]}),i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 sm:mb-4 px-2",children:"What would you like to do today?"}),i.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 px-2",children:"Share your travel plans or find someone heading your way"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8 px-2",children:[i.jsx("div",{className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",onClick:t,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(hf,{size:28,className:"sm:w-9 sm:h-9 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Post a Trip"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Share your upcoming flight details and help fellow travelers with deliveries or pickups at airports"}),i.jsxs("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:[i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Package delivery & pickup"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Travel assistance & companionship"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full mr-2"}),"Elderly care support"]})]}),i.jsxs("div",{className:"inline-flex items-center text-blue-600 font-semibold group-hover:text-blue-700 text-sm sm:text-base",children:["Share Your Journey",i.jsx("div",{className:"ml-2 transform group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),i.jsx("div",{className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",onClick:e,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(pf,{size:28,className:"sm:w-9 sm:h-9 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Find a Trip"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Search for travelers on routes you need and connect with them for convenient airport services"}),i.jsxs("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:[i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-indigo-600 rounded-full mr-2"}),"Find delivery services"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-indigo-600 rounded-full mr-2"}),"Get travel assistance"]}),i.jsxs("p",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"w-2 h-2 bg-indigo-600 rounded-full mr-2"}),"Arrange companionship"]})]}),i.jsxs("div",{className:"inline-flex items-center text-indigo-600 font-semibold group-hover:text-indigo-700 text-sm sm:text-base",children:["Discover Travelers",i.jsx("div",{className:"ml-2 transform group-hover:translate-x-1 transition-transform",children:"→"})]})]})})]}),i.jsxs("div",{className:"mt-8 sm:mt-16 bg-white rounded-2xl shadow-lg p-4 sm:p-8 mx-2",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 text-center",children:"How Airport Trips Work"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"1"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Share or Search"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Post your flight details or search for travelers on your needed route"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"2"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Connect"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Use our built-in chat to discuss details and arrange your service"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"3"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Complete"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Meet at the airport and complete your delivery or pickup service"})]})]})]}),i.jsx("div",{className:"mt-8 sm:mt-16 px-2",children:i.jsx(Vl,{title:"Airport Trips Reviews",maxReviews:5})})]})]})})}function sy({onPostRide:t,onFindRide:e,onProfile:r,onBack:s,onStartChat:n}){const{userProfile:a,signOut:o}=$e();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100",children:i.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-8 space-y-2 sm:space-y-0",children:[i.jsx("div",{}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:space-x-4",children:[i.jsxs("button",{onClick:s,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-green-600 hover:text-green-700 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),n&&i.jsx(ql,{onStartChat:n}),i.jsxs("button",{onClick:r,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(ht,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Welcome back,"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate max-w-24 sm:max-w-none",children:a==null?void 0:a.full_name})]}),(a==null?void 0:a.profile_image_url)&&i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden",children:i.jsx("img",{src:a.profile_image_url,alt:a.full_name,className:"w-full h-full object-cover"})}),i.jsxs("button",{onClick:o,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors text-sm sm:text-base",children:[i.jsx(Bl,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]}),i.jsxs("div",{className:"max-w-full sm:max-w-xl md:max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-green-600 text-white rounded-full mx-auto mb-2 sm:mb-4",children:i.jsx(Fl,{size:20,className:"sm:w-6 sm:h-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:"Car Rides"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Share rides, save money, help the environment"})]})]}),i.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[i.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2 sm:mb-4 px-2",children:"What would you like to do today?"}),i.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 px-2",children:"Offer a ride or find someone to share the journey with"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8 px-2",children:[i.jsx("div",{className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",onClick:t,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(hf,{size:28,className:"sm:w-9 sm:h-9 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Post a Ride"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Share your car ride with other travelers to split costs and reduce environmental impact"}),i.jsxs("div",{className:"inline-flex items-center text-green-600 font-semibold group-hover:text-green-700 text-sm sm:text-base",children:["Offer Your Ride",i.jsx("div",{className:"ml-2 transform group-hover:translate-x-1 transition-transform",children:"→"})]})]})}),i.jsx("div",{className:"group cursor-pointer bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 p-4 sm:p-8",onClick:e,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-full flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform duration-300",children:i.jsx(pf,{size:28,className:"sm:w-9 sm:h-9 text-white"})}),i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-4",children:"Find a Ride"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6 leading-relaxed",children:"Search for available rides in your area and connect with drivers for affordable travel"}),i.jsxs("div",{className:"inline-flex items-center text-emerald-600 font-semibold group-hover:text-emerald-700 text-sm sm:text-base",children:["Find Available Rides",i.jsx("div",{className:"ml-2 transform group-hover:translate-x-1 transition-transform",children:"→"})]})]})})]}),i.jsxs("div",{className:"mt-8 sm:mt-16 bg-white rounded-2xl shadow-lg p-4 sm:p-8 mx-2",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 text-center",children:"How Car Rides Work"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"1"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Post or Search"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Offer your ride or search for available rides on your route"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"2"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Connect"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Use our secure chat to discuss pickup points and payment details"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-green-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-bold text-xs sm:text-sm",children:"3"})})}),i.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Travel Together"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Meet at the agreed location and enjoy cost-effective, eco-friendly travel"})]})]})]}),i.jsx("div",{className:"mt-8 sm:mt-16 px-2",children:i.jsx(Vl,{title:"Car Rides Reviews",maxReviews:5})})]})]})})}function us({value:t,onChange:e,placeholder:r,label:s,required:n=!1}){const[a,o]=w.useState([]),[l,c]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(!1),[x,v]=w.useState(""),y=w.useRef(null),j=w.useRef(null);w.useEffect(()=>{d(t||"")},[t]),w.useEffect(()=>{const _=N=>{y.current&&j.current&&!y.current.contains(N.target)&&!j.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=async _=>{if(_.length<2){o([]),c(!1);return}m(!0),v("");try{const A=(await(await fetch("https://raw.githubusercontent.com/jpatokal/openflights/master/data/airports.dat")).text()).split(`
`),D=[];for(const k of A){if(!k.trim())continue;const C=k.split(",").map(R=>R.replace(/"/g,""));if(C.length>=6){const[R,L,M,U,ie]=C;if(ie&&ie.length===3&&L&&M&&U){const X={code:ie.toUpperCase(),name:L,city:M,country:U},E=_.toLowerCase();(X.code.toLowerCase().includes(E)||X.name.toLowerCase().includes(E)||X.city.toLowerCase().includes(E)||X.country.toLowerCase().includes(E))&&D.push(X)}}if(D.length>=20)break}o(D),c(D.length>0)}catch(N){console.error("Error fetching airports:",N),v("Failed to load airports. Please try again."),o([]),c(!1)}finally{m(!1)}},f=_=>{const N=_.target.value;d(N),N.length===0?(e(""),o([]),c(!1)):g(N)},p=_=>{d(`${_.code} - ${_.name}, ${_.city}`),e(_.code),c(!1)},b=()=>{a.length>0&&c(!0)};return i.jsxs("div",{className:"relative",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,n&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(vn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{ref:y,type:"text",value:u,onChange:f,onFocus:b,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r,required:n,autoComplete:"off"}),h&&i.jsx("div",{className:"absolute right-3 top-3",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),x&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:x}),l&&a.length>0&&i.jsx("div",{ref:j,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:a.map((_,N)=>i.jsx("div",{onClick:()=>p(_),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full",children:i.jsx(Wl,{size:16,className:"text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-semibold text-blue-600",children:_.code}),i.jsx("span",{className:"text-gray-900",children:_.name})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[_.city,", ",_.country]})]})]})},`${_.code}-${N}`))})]})}const ny=t=>{switch(t){case"trip":return{title:"Airport Trip Safety Guidelines",points:["Verify the identity and legitimacy of all users before agreeing to any services","Exchange personal contact details for high-value items at your own risk","Meet in public places at airports and verify identities before any exchange","Never share sensitive personal or financial information through our platform","Be cautious when handling packages or items for others - inspect contents if possible","Report any suspicious activity or requests to our support team immediately"],explanation:"Airport trips involve package delivery, pickup services, and travel assistance. Exercise extra caution when dealing with valuable items or unfamiliar requests."};case"ride":return{title:"Car Ride Safety Guidelines",points:["Verify driver/passenger identity and vehicle details before the trip","Meet in public, well-lit locations for pickup and drop-off","Share your trip details with a trusted friend or family member","Never share sensitive personal or financial information","Trust your instincts - cancel if something feels unsafe","Keep emergency contacts readily available during the journey"],explanation:"Car rides involve sharing vehicles with other people. Always prioritize your personal safety and use common sense when carpooling."};case"chat-trip":return{title:"Airport Trip Communication Guidelines",points:["Keep all initial communication within our secure chat system","Be specific about pickup/delivery locations and timing","Discuss package contents and handling requirements clearly","Agree on compensation and payment methods beforehand","Exchange contact details only when necessary for coordination","Report inappropriate messages or suspicious requests immediately"],explanation:"When discussing airport trip services, maintain clear communication about expectations and safety requirements."};case"chat-ride":return{title:"Car Ride Communication Guidelines",points:["Keep all initial communication within our secure chat system","Discuss pickup/drop-off locations and exact timing","Confirm vehicle details, license plate, and driver information","Agree on cost sharing and payment methods in advance","Share contact details only when ready to coordinate the ride","Report inappropriate messages or unsafe requests immediately"],explanation:"When arranging car rides, ensure all safety details are discussed and confirmed before meeting in person."};default:return{title:"Safety Guidelines",points:["Please exercise caution when using our services"],explanation:"Your safety is our priority."}}};function ra({isOpen:t,onClose:e,onConfirm:r,loading:s,type:n,content:a}){if(!t)return null;const o=a||ny(n);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-sm sm:max-w-md w-full p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:i.jsx(ta,{size:18,className:"sm:w-6 sm:h-6 text-yellow-600"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:o.title})]}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(gs,{size:20,className:"sm:w-6 sm:h-6"})})]}),i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 sm:p-4 mb-3 sm:mb-4",children:i.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 leading-relaxed",children:[i.jsx("strong",{children:"Please read carefully:"})," RideYaari is not responsible for your safety or the outcome of services arranged through our platform. We strongly advise you to:"]})}),i.jsx("ul",{className:"text-xs sm:text-sm text-gray-700 space-y-1 sm:space-y-2 mb-3 sm:mb-4",children:o.points.map((l,c)=>i.jsxs("li",{className:"flex items-start space-x-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-red-500 rounded-full mt-1.5 sm:mt-2 flex-shrink-0"}),i.jsx("span",{children:l})]},c))}),i.jsxs("p",{className:"text-xs text-gray-600",children:[o.explanation," By proceeding, you acknowledge that you understand these guidelines and agree to use RideYaari responsibly."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[i.jsx("button",{onClick:e,className:"flex-1 border border-gray-300 text-gray-700 py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors text-sm sm:text-base",children:"Cancel"}),i.jsx("button",{onClick:r,disabled:s,className:"flex-1 bg-blue-600 text-white py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:s?"Processing...":"I Understand, Continue"})]})]})})}const Oi=[{value:"America/New_York",label:"Eastern Time (EST/EDT)",offset:"UTC-5/-4"},{value:"America/Chicago",label:"Central Time (CST/CDT)",offset:"UTC-6/-5"},{value:"America/Denver",label:"Mountain Time (MST/MDT)",offset:"UTC-7/-6"},{value:"America/Los_Angeles",label:"Pacific Time (PST/PDT)",offset:"UTC-8/-7"},{value:"America/Anchorage",label:"Alaska Time (AKST/AKDT)",offset:"UTC-9/-8"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",offset:"UTC-10"},{value:"Europe/London",label:"Greenwich Mean Time (GMT/BST)",offset:"UTC+0/+1"},{value:"Europe/Paris",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Berlin",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Rome",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Madrid",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Amsterdam",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Brussels",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Vienna",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Zurich",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Stockholm",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Oslo",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Copenhagen",label:"Central European Time (CET/CEST)",offset:"UTC+1/+2"},{value:"Europe/Helsinki",label:"Eastern European Time (EET/EEST)",offset:"UTC+2/+3"},{value:"Europe/Athens",label:"Eastern European Time (EET/EEST)",offset:"UTC+2/+3"},{value:"Europe/Istanbul",label:"Turkey Time (TRT)",offset:"UTC+3"},{value:"Europe/Moscow",label:"Moscow Time (MSK)",offset:"UTC+3"},{value:"Asia/Dubai",label:"Gulf Standard Time (GST)",offset:"UTC+4"},{value:"Asia/Karachi",label:"Pakistan Standard Time (PKT)",offset:"UTC+5"},{value:"Asia/Kolkata",label:"India Standard Time (IST)",offset:"UTC+5:30"},{value:"Asia/Dhaka",label:"Bangladesh Standard Time (BST)",offset:"UTC+6"},{value:"Asia/Bangkok",label:"Indochina Time (ICT)",offset:"UTC+7"},{value:"Asia/Singapore",label:"Singapore Standard Time (SGT)",offset:"UTC+8"},{value:"Asia/Hong_Kong",label:"Hong Kong Time (HKT)",offset:"UTC+8"},{value:"Asia/Shanghai",label:"China Standard Time (CST)",offset:"UTC+8"},{value:"Asia/Taipei",label:"Taipei Standard Time (TST)",offset:"UTC+8"},{value:"Asia/Manila",label:"Philippine Standard Time (PST)",offset:"UTC+8"},{value:"Asia/Jakarta",label:"Western Indonesian Time (WIB)",offset:"UTC+7"},{value:"Asia/Kuala_Lumpur",label:"Malaysia Time (MYT)",offset:"UTC+8"},{value:"Asia/Seoul",label:"Korea Standard Time (KST)",offset:"UTC+9"},{value:"Asia/Tokyo",label:"Japan Standard Time (JST)",offset:"UTC+9"},{value:"Australia/Sydney",label:"Australian Eastern Time (AEST/AEDT)",offset:"UTC+10/+11"},{value:"Australia/Melbourne",label:"Australian Eastern Time (AEST/AEDT)",offset:"UTC+10/+11"},{value:"Australia/Brisbane",label:"Australian Eastern Standard Time (AEST)",offset:"UTC+10"},{value:"Australia/Perth",label:"Australian Western Standard Time (AWST)",offset:"UTC+8"},{value:"Australia/Adelaide",label:"Australian Central Time (ACST/ACDT)",offset:"UTC+9:30/+10:30"},{value:"Pacific/Auckland",label:"New Zealand Time (NZST/NZDT)",offset:"UTC+12/+13"},{value:"America/Toronto",label:"Eastern Time (EST/EDT)",offset:"UTC-5/-4"},{value:"America/Vancouver",label:"Pacific Time (PST/PDT)",offset:"UTC-8/-7"},{value:"America/Montreal",label:"Eastern Time (EST/EDT)",offset:"UTC-5/-4"},{value:"America/Sao_Paulo",label:"Brasília Time (BRT/BRST)",offset:"UTC-3/-2"},{value:"America/Mexico_City",label:"Central Time (CST/CDT)",offset:"UTC-6/-5"},{value:"America/Buenos_Aires",label:"Argentina Time (ART)",offset:"UTC-3"},{value:"America/Lima",label:"Peru Time (PET)",offset:"UTC-5"},{value:"America/Bogota",label:"Colombia Time (COT)",offset:"UTC-5"},{value:"America/Santiago",label:"Chile Time (CLT/CLST)",offset:"UTC-4/-3"},{value:"Africa/Cairo",label:"Eastern European Time (EET)",offset:"UTC+2"},{value:"Africa/Lagos",label:"West Africa Time (WAT)",offset:"UTC+1"},{value:"Africa/Nairobi",label:"East Africa Time (EAT)",offset:"UTC+3"},{value:"Africa/Johannesburg",label:"South Africa Standard Time (SAST)",offset:"UTC+2"},{value:"Africa/Casablanca",label:"Western European Time (WET/WEST)",offset:"UTC+0/+1"}],Gr=()=>"America/New_York";function iy({onBack:t}){const{user:e}=$e(),[r,s]=w.useState(""),[n,a]=w.useState(""),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(""),[m,x]=w.useState(""),[v,y]=w.useState(Gr()),[j,g]=w.useState(Gr()),[f,p]=w.useState(Gr()),[b,_]=w.useState(!1),[N,S]=w.useState(!1),[A,D]=w.useState(""),[k,C]=w.useState(!1),R=async U=>{U.preventDefault(),C(!0)},L=async()=>{if(e){_(!0),D(""),C(!1);try{const{error:U}=await K.from("trips").insert({user_id:e.id,leaving_airport:r,destination_airport:n,travel_date:o,departure_time:c||null,landing_date:d||null,landing_time:m||null});if(U)throw U;S(!0),s(""),a(""),l(""),u(""),h(""),x(""),y(Gr())}catch(U){D(U.message)}finally{_(!1)}}},M=()=>{const U=new Date;return U.setDate(U.getDate()+1),U.toISOString().split("T")[0]};return N?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(wn,{size:32,className:"text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Trip Posted Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Your trip has been added to our platform. Other travelers can now find and contact you for potential collaborations."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>S(!1),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Post Another Trip"}),i.jsx("button",{onClick:t,className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Dashboard"})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Post Your Trip"}),i.jsx("p",{className:"text-gray-600",children:"Share your flight details to help other travelers"})]}),A&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:A}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsx(us,{value:r,onChange:s,placeholder:"Search for departure airport...",label:"Leaving Airport",required:!0}),i.jsx(us,{value:n,onChange:a,placeholder:"Search for destination airport...",label:"Destination Airport",required:!0}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Travel Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:o,onChange:U=>l(U.target.value),min:M(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Time"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"time",value:c,onChange:U=>u(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("select",{value:j,onChange:U=>g(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Oi.map(U=>i.jsxs("option",{value:U.value,children:[U.label," (",U.offset,")"]},U.value))})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - specify if you want to share exact timing"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:d,onChange:U=>h(U.target.value),min:o,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - leave empty if same day or unknown"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Time"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"time",value:m,onChange:U=>x(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("select",{value:f,onChange:U=>p(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Oi.map(U=>i.jsxs("option",{value:U.value,children:[U.label," (",U.offset,")"]},U.value))})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - specify if you want to share exact timing"})]})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ta,{size:20,className:"text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Additional Use Cases"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Request a caretaker to accompany an elderly parent"}),i.jsx("li",{children:"• Find a rider to assist a first-time traveler"}),i.jsx("li",{children:"• Package delivery and pickup services"}),i.jsx("li",{children:"• Airport companionship and assistance"})]})]})]})}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What happens next?"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Your trip will be visible to other users searching for this route"}),i.jsx("li",{children:"• Interested travelers can contact you through our secure chat system"}),i.jsx("li",{children:"• You can discuss delivery or pickup details privately"}),i.jsx("li",{children:"• All communication stays within the platform for your safety"})]})]}),i.jsx("button",{type:"submit",disabled:b||!r||!n||!o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Posting Trip...":"Post My Trip"})]})]}),i.jsx(ra,{isOpen:k,onClose:()=>C(!1),onConfirm:L,loading:b,type:"trip"})]})})}function ay({onBack:t,onStartChat:e}){const{user:r}=$e(),[s,n]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[h,m]=w.useState(!1),[x,v]=w.useState([]),[y,j]=w.useState(!1),[g,f]=w.useState(!1),[p,b]=w.useState(!1),[_,N]=w.useState({userId:"",userName:""}),S=async L=>{L.preventDefault(),j(!0);try{let M=K.from("trips").select(`
          *,
          user_profiles:user_id (
            id,
            full_name
          ),
          leaving_airport_info:airports!trips_leaving_airport_fkey (
            code,
            name,
            city,
            country
          ),
          destination_airport_info:airports!trips_destination_airport_fkey (
            code,
            name,
            city,
            country
          )
        `);if(s&&(M=M.eq("leaving_airport",s)),a&&(M=M.eq("destination_airport",a)),h&&u){const X=`${u}-01`,E=new Date(u+"-01");E.setMonth(E.getMonth()+1);const P=E.toISOString().split("T")[0];M=M.gte("travel_date",X).lt("travel_date",P)}else!h&&l&&(M=M.eq("travel_date",l));const{data:U,error:ie}=await M.order("travel_date");if(ie)throw ie;v(U||[]),f(!0)}catch(M){console.error("Search error:",M)}finally{j(!1)}},A=(L,M)=>{N({userId:L,userName:M}),b(!0)},D=()=>{b(!1),e(_.userId,_.userName)},k=L=>new Date(L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=()=>new Date().toISOString().split("T")[0],R=()=>new Date().toISOString().slice(0,7);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-4xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Find a Trip"}),i.jsx("p",{className:"text-gray-600",children:"Search for travelers on your needed route"})]}),i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(us,{value:s,onChange:n,placeholder:"Any departure airport",label:"Departure Airport"}),i.jsx(us,{value:a,onChange:o,placeholder:"Any destination airport",label:"Destination Airport"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Search by Date or Month"}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchType",checked:!h,onChange:()=>m(!1),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Specific Date"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchType",checked:h,onChange:()=>m(!0),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Entire Month"})]})]})]}),h?i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Travel Month"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"month",value:u,onChange:L=>d(L.target.value),min:R(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Search for all trips in the selected month"})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Travel Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:l,onChange:L=>c(L.target.value),min:C(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Any date"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty to search all dates"})]}),i.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Searching...":"Search Trips"})]})]}),g&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Search Results"}),i.jsxs("span",{className:"text-gray-600",children:[x.length," trip",x.length!==1?"s":""," found"]})]}),x.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(vn,{size:32,className:"text-gray-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No trips found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or check back later for new trips"}),i.jsx("button",{onClick:()=>{n(""),o(""),c(""),d(""),f(!1)},className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Clear Search"})]}):i.jsx("div",{className:"space-y-4",children:x.map(L=>{var M,U,ie,X,E,P,I;return i.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full",children:i.jsx(ht,{size:24,className:"text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:(M=L.user_profiles)==null?void 0:M.full_name}),i.jsx("p",{className:"text-gray-600",children:"Traveler"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Departure"}),i.jsx("div",{className:"font-semibold text-gray-900",children:(U=L.leaving_airport_info)==null?void 0:U.code}),i.jsxs("div",{className:"text-sm text-gray-600",children:[(ie=L.leaving_airport_info)==null?void 0:ie.city,", ",(X=L.leaving_airport_info)==null?void 0:X.country]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Destination"}),i.jsx("div",{className:"font-semibold text-gray-900",children:(E=L.destination_airport_info)==null?void 0:E.code}),i.jsxs("div",{className:"text-sm text-gray-600",children:[(P=L.destination_airport_info)==null?void 0:P.city,", ",(I=L.destination_airport_info)==null?void 0:I.country]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Travel Date"}),i.jsx("div",{className:"font-semibold text-gray-900",children:k(L.travel_date)})]})]})]}),i.jsx("div",{className:"ml-6",children:L.user_id===(r==null?void 0:r.id)?i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 text-gray-500 px-6 py-3 rounded-lg font-medium cursor-not-allowed",children:[i.jsx(ta,{size:20}),i.jsx("span",{children:"Your Trip"})]}):i.jsxs("button",{onClick:()=>{var B;return A(L.user_id,((B=L.user_profiles)==null?void 0:B.full_name)||"Unknown")},className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[i.jsx(un,{size:20}),i.jsx("span",{children:"Start Chat"})]})})]})},L.id)})})]}),i.jsx(ra,{isOpen:p,onClose:()=>b(!1),onConfirm:D,loading:!1,type:"chat-trip"})]})})}function tr({value:t,onChange:e,placeholder:r,label:s,required:n=!1}){const[a,o]=w.useState([]),[l,c]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(!1),[x,v]=w.useState(""),[y,j]=w.useState(!1),g=w.useRef(null),f=w.useRef(null),p=w.useRef(null),b=w.useRef(null);console.log("LocationAutocomplete - Current value:",t),console.log("LocationAutocomplete - Current inputValue:",u),w.useEffect(()=>{const D=()=>{if(window.google&&window.google.maps){console.log("Google Places API already loaded"),k();return}const C="AIzaSyA-VUbZzErxrnE7ZW51d7QsdOnjxlqcMNA";if(document.querySelector('script[src*="maps.googleapis.com"]')){console.log("Google Places API script already loading...");const L=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(L),k())},100);return}console.log("Loading Google Places API...");const R=document.createElement("script");R.src=`https://maps.googleapis.com/maps/api/js?key=${C}&libraries=places&callback=initGooglePlaces`,R.async=!0,R.defer=!0,window.initGooglePlaces=()=>{console.log("Google Places API loaded successfully"),k()},R.onerror=()=>{console.error("Failed to load Google Places API"),v("Failed to load Google Places API. Please check your API key and internet connection.")},document.head.appendChild(R)},k=()=>{try{p.current=new window.google.maps.places.AutocompleteService;const C=document.createElement("div");b.current=new window.google.maps.places.PlacesService(C),j(!0),v(""),console.log("Google Places services initialized")}catch(C){console.error("Error initializing Google Places services:",C),v("Error initializing Google Places services")}};D()},[]),w.useEffect(()=>{t&&t.address?(console.log("LocationAutocomplete - Setting inputValue from value.address:",t.address),d(t.address)):(console.log("LocationAutocomplete - Clearing inputValue"),d(""))},[t]),w.useEffect(()=>{const D=k=>{g.current&&f.current&&!g.current.contains(k.target)&&!f.current.contains(k.target)&&c(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const _=async D=>{if(D.length<2||!y||!p.current){o([]),c(!1);return}console.log("LocationAutocomplete - Searching Google Places for:",D),m(!0),v("");try{const k={input:D,types:["(cities)"],componentRestrictions:{country:[]}};p.current.getPlacePredictions(k,(C,R)=>{console.log("Google Places API response status:",R),console.log("Google Places API predictions:",C),R===window.google.maps.places.PlacesServiceStatus.OK&&C?(o(C),c(!0)):R===window.google.maps.places.PlacesServiceStatus.ZERO_RESULTS?(o([]),c(!1)):(console.error("Google Places API error:",R),v("Error searching locations. Please try again."),o([]),c(!1)),m(!1)})}catch(k){console.error("LocationAutocomplete - Error searching places:",k),v("Failed to search locations. Please try again."),o([]),c(!1),m(!1)}},N=D=>{const k=D.target.value;console.log("LocationAutocomplete - Input changed to:",k),d(k),k.length===0?(console.log("LocationAutocomplete - Clearing selection"),e(null),o([]),c(!1)):_(k)},S=D=>{if(console.log("LocationAutocomplete - Place selected:",D),!b.current){console.error("Places service not initialized");return}m(!0);const k={placeId:D.place_id,fields:["geometry","formatted_address","name"]};b.current.getDetails(k,(C,R)=>{var L,M,U,ie;if(console.log("Place details status:",R),console.log("Place details:",C),R===window.google.maps.places.PlacesServiceStatus.OK&&C){const X={address:C.formatted_address||D.description,latitude:((M=(L=C.geometry)==null?void 0:L.location)==null?void 0:M.lat())||null,longitude:((ie=(U=C.geometry)==null?void 0:U.location)==null?void 0:ie.lng())||null};console.log("LocationAutocomplete - Created LocationData:",X),d(X.address),e(X),c(!1)}else console.error("Error getting place details:",R),v("Error getting location details. Please try again.");m(!1)})},A=()=>{a.length>0&&c(!0)};return i.jsxs("div",{className:"relative",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s,n&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ux,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{ref:g,type:"text",value:u,onChange:N,onFocus:A,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:r,required:n,autoComplete:"off"}),h&&i.jsx("div",{className:"absolute right-3 top-3",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),x&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:x}),!y&&!x&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Loading location services..."}),l&&a.length>0&&i.jsx("div",{ref:f,className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:a.map((D,k)=>{var C,R;return i.jsx("div",{onClick:()=>S(D),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full",children:i.jsx(Wl,{size:16,className:"text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-gray-900",children:((C=D.structured_formatting)==null?void 0:C.main_text)||D.description}),i.jsx("div",{className:"text-sm text-gray-600",children:((R=D.structured_formatting)==null?void 0:R.secondary_text)||""})]})]})},`${D.place_id}-${k}`)})})]})}const Kl=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:"€"},{code:"GBP",name:"British Pound",symbol:"£"},{code:"JPY",name:"Japanese Yen",symbol:"¥"},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"CHF",name:"Swiss Franc",symbol:"CHF"},{code:"CNY",name:"Chinese Yuan",symbol:"¥"},{code:"INR",name:"Indian Rupee",symbol:"₹"},{code:"KRW",name:"South Korean Won",symbol:"₩"},{code:"SGD",name:"Singapore Dollar",symbol:"S$"},{code:"HKD",name:"Hong Kong Dollar",symbol:"HK$"},{code:"NOK",name:"Norwegian Krone",symbol:"kr"},{code:"SEK",name:"Swedish Krona",symbol:"kr"},{code:"DKK",name:"Danish Krone",symbol:"kr"},{code:"PLN",name:"Polish Zloty",symbol:"zł"},{code:"CZK",name:"Czech Koruna",symbol:"Kč"},{code:"HUF",name:"Hungarian Forint",symbol:"Ft"},{code:"RUB",name:"Russian Ruble",symbol:"₽"},{code:"BRL",name:"Brazilian Real",symbol:"R$"},{code:"MXN",name:"Mexican Peso",symbol:"$"},{code:"ARS",name:"Argentine Peso",symbol:"$"},{code:"CLP",name:"Chilean Peso",symbol:"$"},{code:"COP",name:"Colombian Peso",symbol:"$"},{code:"PEN",name:"Peruvian Sol",symbol:"S/"},{code:"ZAR",name:"South African Rand",symbol:"R"},{code:"EGP",name:"Egyptian Pound",symbol:"£"},{code:"MAD",name:"Moroccan Dirham",symbol:"DH"},{code:"NGN",name:"Nigerian Naira",symbol:"₦"},{code:"KES",name:"Kenyan Shilling",symbol:"KSh"},{code:"GHS",name:"Ghanaian Cedi",symbol:"₵"},{code:"TRY",name:"Turkish Lira",symbol:"₺"},{code:"AED",name:"UAE Dirham",symbol:"د.إ"},{code:"SAR",name:"Saudi Riyal",symbol:"﷼"},{code:"QAR",name:"Qatari Riyal",symbol:"﷼"},{code:"KWD",name:"Kuwaiti Dinar",symbol:"د.ك"},{code:"BHD",name:"Bahraini Dinar",symbol:".د.ب"},{code:"OMR",name:"Omani Rial",symbol:"﷼"},{code:"ILS",name:"Israeli Shekel",symbol:"₪"},{code:"THB",name:"Thai Baht",symbol:"฿"},{code:"MYR",name:"Malaysian Ringgit",symbol:"RM"},{code:"IDR",name:"Indonesian Rupiah",symbol:"Rp"},{code:"PHP",name:"Philippine Peso",symbol:"₱"},{code:"VND",name:"Vietnamese Dong",symbol:"₫"},{code:"TWD",name:"Taiwan Dollar",symbol:"NT$"},{code:"NZD",name:"New Zealand Dollar",symbol:"NZ$"}],oy=t=>{const e=Kl.find(r=>r.code===t);return e?e.symbol:t};function ly({onBack:t}){const{user:e}=$e(),[r,s]=w.useState(null),[n,a]=w.useState(null),[o,l]=w.useState([]),[c,u]=w.useState(""),[d,h]=w.useState(""),[m,x]=w.useState("USD"),[v,y]=w.useState(!1),[j,g]=w.useState(!1),[f,p]=w.useState(""),[b,_]=w.useState(!1),N=async R=>{R.preventDefault(),_(!0)},S=async()=>{if(!(!e||!r||!n)){y(!0),p(""),_(!1);try{console.log("Posting ride with locations:",{fromLocation:r,toLocation:n,intermediateStops:o});const{error:R}=await K.from("car_rides").insert({user_id:e.id,from_location:r.address,to_location:n.address,from_latitude:r.latitude,from_longitude:r.longitude,to_latitude:n.latitude,to_longitude:n.longitude,departure_date_time:new Date(c).toISOString(),price:parseFloat(d),currency:m,intermediate_stops:o.map(L=>({address:L.address,latitude:L.latitude,longitude:L.longitude}))});if(R)throw R;g(!0),s(null),a(null),l([]),u(""),h(""),x("USD")}catch(R){console.error("Error posting ride:",R),p(R.message)}finally{y(!1)}}},A=()=>{o.length<3&&l([...o,{address:"",latitude:null,longitude:null}])},D=R=>{l(o.filter((L,M)=>M!==R))},k=(R,L)=>{if(L){const M=[...o];M[R]=L,l(M)}},C=()=>{const R=new Date;return R.setDate(R.getDate()+1),R.setHours(9,0,0,0),R.toISOString().slice(0,16)};return j?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(wn,{size:32,className:"text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ride Posted Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Your ride has been added to our platform. Other travelers can now find and contact you for carpooling."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>g(!1),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Post Another Ride"}),i.jsx("button",{onClick:t,className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Dashboard"})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-green-600 hover:text-green-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Post Your Ride"}),i.jsx("p",{className:"text-gray-600",children:"Share your car ride to help others save money and reduce emissions"})]}),f&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsx(tr,{value:r,onChange:s,placeholder:"Enter departure location...",label:"From Location",required:!0}),i.jsx(tr,{value:n,onChange:a,placeholder:"Enter destination location...",label:"To Location",required:!0}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intermediate Stops (Optional)"}),o.length<3&&i.jsxs("button",{type:"button",onClick:A,className:"flex items-center space-x-1 text-green-600 hover:text-green-700 text-sm font-medium",children:[i.jsx(mf,{size:16}),i.jsx("span",{children:"Add Stop"})]})]}),o.map((R,L)=>i.jsxs("div",{className:"flex items-end space-x-2 mb-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(tr,{value:R,onChange:M=>k(L,M),placeholder:`Stop ${L+1} location...`,label:""})}),i.jsx("button",{type:"button",onClick:()=>D(L),className:"flex items-center justify-center w-10 h-10 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(gs,{size:16})})]},L)),o.length===0&&i.jsx("p",{className:"text-sm text-gray-500",children:"Add stops along your route to attract more passengers"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Departure Date & Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"datetime-local",value:c,onChange:R=>u(R.target.value),min:C(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",required:!0})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price per Passenger ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ff,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"number",value:d,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),i.jsx("select",{value:m,onChange:R=>x(R.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",children:Kl.map(R=>i.jsxs("option",{value:R.code,children:[R.symbol," ",R.code," - ",R.name]},R.code))})]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"💡 Tips for a Great Ride Post"}),i.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[i.jsx("li",{children:"• Set a fair price that covers gas and wear-and-tear"}),i.jsx("li",{children:"• Be specific about pickup and drop-off locations"}),i.jsx("li",{children:"• Add intermediate stops to attract more passengers"}),i.jsx("li",{children:"• Post your ride at least a day in advance"}),i.jsx("li",{children:"• Be responsive to passenger messages"})]})]}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"What happens next?"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsx("li",{children:"• Your ride will be visible to users searching your route"}),i.jsx("li",{children:"• Interested passengers can contact you through our secure chat"}),i.jsx("li",{children:"• You can discuss pickup details and payment privately"}),i.jsx("li",{children:"• All communication stays within the platform for safety"})]})]}),i.jsx("button",{type:"submit",disabled:v||!r||!n||!c||!d,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Posting Ride...":"Post My Ride"})]})]}),i.jsx(ra,{isOpen:b,onClose:()=>_(!1),onConfirm:S,loading:v,type:"ride"})]})})}function Wn(t,e,r,s){const a=Hn(r-t),o=Hn(s-e),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Hn(t))*Math.cos(Hn(r))*Math.sin(o/2)*Math.sin(o/2);return 3959*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}function Hn(t){return t*(Math.PI/180)}function Su(t){if(!t)return"";let e=t.toLowerCase().trim();e=e.replace(/[,.-]/g," "),e=e.replace(/\s+/g," "),e=e.trim();const r={"united states":["usa","us","united states of america"],india:["in","ind","bharat"],"united kingdom":["uk","gb","great britain","britain"],canada:["ca","can"],australia:["au","aus"],germany:["de","deutschland"],france:["fr","fra"],italy:["it","ita"],spain:["es","esp"],japan:["jp","jpn"],china:["cn","chn"],brazil:["br","bra"],mexico:["mx","mex"],russia:["ru","rus"],"south africa":["za","rsa"]},s={al:"alabama",ak:"alaska",az:"arizona",ar:"arkansas",ca:"california",co:"colorado",ct:"connecticut",de:"delaware",fl:"florida",ga:"georgia",hi:"hawaii",id:"idaho",il:"illinois",in:"indiana",ia:"iowa",ks:"kansas",ky:"kentucky",la:"louisiana",me:"maine",md:"maryland",ma:"massachusetts",mi:"michigan",mn:"minnesota",ms:"mississippi",mo:"missouri",mt:"montana",ne:"nebraska",nv:"nevada",nh:"new hampshire",nj:"new jersey",nm:"new mexico",ny:"new york",nc:"north carolina",nd:"north dakota",oh:"ohio",ok:"oklahoma",or:"oregon",pa:"pennsylvania",ri:"rhode island",sc:"south carolina",sd:"south dakota",tn:"tennessee",tx:"texas",ut:"utah",vt:"vermont",va:"virginia",wa:"washington",wv:"west virginia",wi:"wisconsin",wy:"wyoming",dc:"district of columbia"},n={ap:"andhra pradesh",ar:"arunachal pradesh",as:"assam",br:"bihar",ct:"chhattisgarh",ga:"goa",gj:"gujarat",hr:"haryana",hp:"himachal pradesh",jh:"jharkhand",ka:"karnataka",kl:"kerala",mp:"madhya pradesh",mh:"maharashtra",mn:"manipur",ml:"meghalaya",mz:"mizoram",nl:"nagaland",or:"odisha",pb:"punjab",rj:"rajasthan",sk:"sikkim",tn:"tamil nadu",tg:"telangana",tr:"tripura",up:"uttar pradesh",ut:"uttarakhand",wb:"west bengal"},a=e.split(" "),o=[];for(const c of a){let u=!1;for(const[d,h]of Object.entries(r))if(h.includes(c)||c===d){o.push(d),o.push(...h),u=!0;break}if(!u)if(s[c])o.push(s[c]),o.push(c),u=!0;else{const d=Object.keys(s).find(h=>s[h]===c);d&&(o.push(c),o.push(d),u=!0)}if(!u)if(n[c])o.push(n[c]),o.push(c),u=!0;else{const d=Object.keys(n).find(h=>n[h]===c);d&&(o.push(c),o.push(d),u=!0)}u||o.push(c)}return[...new Set(o)].join(" ")}function qn(t,e){if(!t||!e)return!1;const r=Su(t),s=Su(e);return r.includes(s)||s.includes(r)}function cy({onBack:t,onStartChat:e}){const{user:r}=$e(),[s,n]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState("10"),[u,d]=w.useState(""),[h,m]=w.useState(""),[x,v]=w.useState(!1),[y,j]=w.useState([]),[g,f]=w.useState(!1),[p,b]=w.useState(!1),[_,N]=w.useState(!1),[S,A]=w.useState({userId:"",userName:""}),[D,k]=w.useState(!1),[C,R]=w.useState(!1),[L,M]=w.useState("miles"),[U,ie]=w.useState(!1),[X,E]=w.useState(""),P=(z,oe)=>oe==="kilometers"?z*.621371:z,I=async z=>{z.preventDefault(),f(!0);try{console.log("=== STARTING RIDE SEARCH ==="),console.log("Search criteria:",{fromLocation:s==null?void 0:s.address,toLocation:a==null?void 0:a.address,strictSearch:C,searchRadius:l,departureDate:u,departureMonth:h,searchByMonth:x});let oe=K.from("car_rides").select(`
          *,
          user_profiles:user_id (
            id,
            full_name
          )
        `);if(x&&h){const H=`${h}-01T00:00:00`,fe=new Date(h+"-01");fe.setMonth(fe.getMonth()+1);const be=fe.toISOString();console.log("Applying month filter:",H,"to",be),oe=oe.gte("departure_date_time",H).lt("departure_date_time",be)}else if(!x&&u){const H=`${u}T00:00:00`,fe=`${u}T23:59:59`;console.log("Applying date filter:",H,"to",fe),oe=oe.gte("departure_date_time",H).lte("departure_date_time",fe)}const _t=new Date().toISOString();console.log("Filtering for rides after:",_t),oe=oe.gte("departure_date_time",_t);const{data:Ue,error:bn}=await oe.order("departure_date_time");if(bn)throw bn;console.log("Raw database results:",(Ue==null?void 0:Ue.length)||0,"rides"),Ue&&Ue.length>0&&console.log("Sample ride:",{from:Ue[0].from_location,to:Ue[0].to_location,departure:Ue[0].departure_date_time,intermediate_stops:Ue[0].intermediate_stops});let lr=Ue||[];s||a?(console.log("=== APPLYING LOCATION FILTERS ==="),console.log("FROM search:",s==null?void 0:s.address),console.log("TO search:",a==null?void 0:a.address),console.log("Search mode:",C?"STRICT":"FLEXIBLE"),lr=lr.filter(H=>{console.log(`
--- Checking ride: ${H.from_location} → ${H.to_location} ---`);let fe=!s,be=!a;if(s){const O=s.address.toLowerCase();if(console.log("Checking FROM:",O),fe=!1,C)console.log("STRICT search for FROM location"),H.from_location.toLowerCase().trim()===O.toLowerCase().trim()&&(console.log("✅ FROM: Exact match with departure location"),fe=!0);else{if(console.log("FLEXIBLE search for FROM location"),qn(H.from_location,O)&&(console.log("✅ FROM: Text match found in departure location"),fe=!0),!fe&&H.intermediate_stops&&Array.isArray(H.intermediate_stops)){for(const W of H.intermediate_stops)if(W.address&&qn(W.address,O)){console.log("✅ FROM: Match found in intermediate stop:",W.address),fe=!0;break}}if(!fe&&s.latitude&&s.longitude&&l){console.log("Checking distance for FROM location");const W=parseInt(l),J=P(W,L);if(H.from_latitude&&H.from_longitude){const Z=Wn(s.latitude,s.longitude,H.from_latitude,H.from_longitude);console.log(`Distance to departure: ${Z.toFixed(1)} miles`),Z<=J&&(console.log("✅ FROM: Within radius of departure location"),fe=!0)}if(!fe&&H.intermediate_stops&&Array.isArray(H.intermediate_stops)){for(const Z of H.intermediate_stops)if(Z.latitude&&Z.longitude){const Se=Wn(s.latitude,s.longitude,Z.latitude,Z.longitude);if(console.log(`Distance to intermediate stop "${Z.address}": ${Se.toFixed(1)} miles`),Se<=J){console.log("✅ FROM: Within radius of intermediate stop"),fe=!0;break}}}}}console.log("FROM location result:",fe?"✅ MATCH":"❌ NO MATCH")}if(a){const O=a.address.toLowerCase();if(console.log("Checking TO:",O),be=!1,C)console.log("STRICT search for TO location"),H.to_location.toLowerCase().trim()===O.toLowerCase().trim()&&(console.log("✅ TO: Exact match with destination location"),be=!0);else{if(console.log("FLEXIBLE search for TO location"),qn(H.to_location,O)&&(console.log("✅ TO: Text match found in destination location"),be=!0),!be&&H.intermediate_stops&&Array.isArray(H.intermediate_stops)){for(const W of H.intermediate_stops)if(W.address&&qn(W.address,O)){console.log("✅ TO: Match found in intermediate stop:",W.address),be=!0;break}}if(!be&&a.latitude&&a.longitude&&l){console.log("Checking distance for TO location");const W=parseInt(l);if(H.to_latitude&&H.to_longitude){const J=Wn(a.latitude,a.longitude,H.to_latitude,H.to_longitude);console.log(`Distance to destination: ${J.toFixed(1)} miles`),J<=W&&(console.log("✅ TO: Within radius of destination location"),be=!0)}if(!be&&H.from_latitude&&H.from_longitude){const J=Wn(a.latitude,a.longitude,H.from_latitude,H.from_longitude);console.log(`Distance to departure: ${J.toFixed(1)} miles`),J<=W&&(console.log("✅ TO: Within radius of departure location"),be=!0)}}}console.log("TO location result:",be?"✅ MATCH":"❌ NO MATCH")}const xs=fe&&be;return console.log(`FINAL RESULT: ${xs?"✅ RIDE MATCHES":"❌ RIDE REJECTED"}`),xs})):(console.log("=== NO LOCATION FILTERS APPLIED ==="),console.log("Showing all rides")),console.log("=== SEARCH COMPLETE ==="),console.log("Final filtered rides:",lr.length),console.log("Rides:",lr.map(H=>`${H.from_location} → ${H.to_location}`)),j(lr),b(!0)}catch(oe){console.error("Search error:",oe)}finally{f(!1)}},B=(z,oe)=>{A({userId:z,userName:oe}),N(!0)},Q=()=>{N(!1),e(S.userId,S.userName)},Pe=z=>new Date(z).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),qe=()=>new Date().toISOString().split("T")[0],Lt=()=>new Date().toISOString().slice(0,7);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-4xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-green-600 hover:text-green-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Find a Ride"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Search for available car rides in your area"}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-800",children:[i.jsx("p",{className:"font-semibold mb-2",children:"🔍 Smart Search Tips:"}),i.jsxs("ul",{className:"text-left space-y-1",children:[i.jsxs("li",{children:["• Search by ",i.jsx("strong",{children:"departure location"})," to find rides leaving from your area"]}),i.jsxs("li",{children:["• Search by ",i.jsx("strong",{children:"destination"})," to find rides going to where you need"]}),i.jsxs("li",{children:["• Use ",i.jsx("strong",{children:"both locations"})," for specific route matches"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Flexible search"})," finds rides within your specified radius"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Strict search"})," only shows exact location matches"]}),i.jsx("li",{children:"• Leave locations empty to see all available rides"})]})]})]}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Search Mode"}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchMode",checked:!C,onChange:()=>R(!1),className:"mr-2 text-green-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Flexible Search"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Find rides within radius of your locations"})]})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchMode",checked:C,onChange:()=>R(!0),className:"mr-2 text-green-600"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Strict Search"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Only exact location matches"})]})]})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsx(tr,{value:s,onChange:n,placeholder:"Any departure location",label:"From Location"}),i.jsx(tr,{value:a,onChange:o,placeholder:"Any destination location",label:"To Location"})]}),!C&&((s==null?void 0:s.latitude)&&(s==null?void 0:s.longitude)||(a==null?void 0:a.latitude)&&(a==null?void 0:a.longitude))&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Search Radius: ",U&&X?X:l," ",L]}),i.jsx("button",{type:"button",onClick:()=>k(!D),className:"text-gray-400 hover:text-gray-600",children:i.jsx(cs,{size:16})})]}),D&&i.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700",children:["This will search for rides within ",U&&X?X:l," ",L," of your selected location(s). For departure location, it finds rides starting OR ending nearby. For destination, it finds rides ending OR starting nearby."]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"radiusUnit",checked:L==="miles",onChange:()=>M("miles"),className:"mr-2 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Miles"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"radiusUnit",checked:L==="kilometers",onChange:()=>M("kilometers"),className:"mr-2 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Kilometers"})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"radiusInputMethod",checked:!U,onChange:()=>ie(!1),className:"mr-2 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Use Slider"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"radiusInputMethod",checked:U,onChange:()=>ie(!0),className:"mr-2 text-green-600"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Enter Custom Value"})]})]}),U?i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"number",min:"0",step:"1",value:X,onChange:z=>E(z.target.value),placeholder:`Enter radius in ${L} (can exceed 1000)`,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"}),i.jsx("div",{className:"absolute right-3 top-3 text-sm text-gray-500",children:L}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["You can enter values greater than 1000 ",L," manually if needed"]})]}):i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"range",min:"0",max:"1000",step:"5",value:l,onChange:z=>c(z.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[i.jsxs("span",{children:["0 ",L]}),i.jsxs("span",{children:["1000 ",L]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Search by Date or Month"}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchType",checked:!x,onChange:()=>v(!1),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Specific Date"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"searchType",checked:x,onChange:()=>v(!0),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Entire Month"})]})]})]}),x?i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Month"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"month",value:h,onChange:z=>m(z.target.value),min:Lt(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Search for all rides in the selected month"})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:u,onChange:z=>d(z.target.value),min:qe(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"Any date"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty to search all dates"})]}),i.jsx("button",{type:"submit",disabled:g,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Searching...":"Search Rides"})]})]}),p&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Rides"}),i.jsxs("span",{className:"text-gray-600",children:[y.length," ride",y.length!==1?"s":""," found"]})]}),y.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Fl,{size:32,className:"text-gray-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No rides found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or check back later for new rides"}),i.jsx("button",{onClick:()=>{n(null),o(null),c("10"),d(""),m(""),b(!1)},className:"text-green-600 hover:text-green-700 font-medium transition-colors",children:"Clear Search"})]}):i.jsx("div",{className:"space-y-4",children:y.map(z=>{var oe;return i.jsx("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full",children:i.jsx(ht,{size:24,className:"text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:(oe=z.user_profiles)==null?void 0:oe.full_name}),i.jsx("p",{className:"text-gray-600",children:"Driver"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"From"}),i.jsx("div",{className:"font-semibold text-gray-900",children:z.from_location})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"To"}),i.jsx("div",{className:"font-semibold text-gray-900",children:z.to_location})]}),z.intermediate_stops&&z.intermediate_stops.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Stops"}),i.jsx("div",{className:"text-sm text-gray-700",children:z.intermediate_stops.map((_t,Ue)=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Wl,{size:12,className:"text-gray-400"}),i.jsx("span",{className:"truncate",children:_t.address})]},Ue))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Departure"}),i.jsx("div",{className:"font-semibold text-gray-900",children:Pe(z.departure_date_time)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Price"}),i.jsxs("div",{className:"font-semibold text-green-600 flex items-center",children:[oy(z.currency||"USD"),z.price]})]})]})]}),i.jsx("div",{className:"ml-6",children:z.user_id===(r==null?void 0:r.id)?i.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 text-gray-500 px-6 py-3 rounded-lg font-medium cursor-not-allowed",children:[i.jsx(ta,{size:20}),i.jsx("span",{children:"Your Ride"})]}):i.jsxs("button",{onClick:()=>{var _t;return B(z.user_id,((_t=z.user_profiles)==null?void 0:_t.full_name)||"Unknown")},className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-green-700 transition-colors",children:[i.jsx(un,{size:20}),i.jsx("span",{children:"Contact Driver"})]})})]})},z.id)})})]}),i.jsx(ra,{isOpen:_,onClose:()=>N(!1),onConfirm:Q,loading:!1,type:"chat-ride"})]})})}function uy({onReviewSubmitted:t}){const{user:e,userProfile:r}=$e(),[s,n]=w.useState((r==null?void 0:r.full_name)||""),[a,o]=w.useState((e==null?void 0:e.email)||""),[l,c]=w.useState(0),[u,d]=w.useState(""),[h,m]=w.useState(!1),[x,v]=w.useState(!1),[y,j]=w.useState(""),g=async p=>{if(p.preventDefault(),!s.trim()||!u.trim()||l===0){j("Please fill in all required fields and select a rating");return}m(!0),j("");try{const{error:b}=await K.from("reviews").insert({reviewer_name:s.trim(),reviewer_email:a.trim()||null,rating:l,review_content:u.trim()});if(b)throw b;v(!0),n(""),o(""),c(0),d(""),t&&t(),setTimeout(()=>{v(!1)},3e3)}catch(b){j(b.message||"Failed to submit review")}finally{m(!1)}},f=p=>{c(p)};return x?i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(wn,{size:24,className:"text-green-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Thank You!"}),i.jsx("p",{className:"text-green-700",children:"Your review has been submitted successfully. We appreciate your feedback!"})]}):i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Share Your Experience"}),i.jsx("p",{className:"text-gray-600",children:"Help other travelers by sharing your RideYaari experience"})]}),y&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ht,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:s,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your name",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx(cn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"email",value:a,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email (optional)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rating ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(p=>i.jsx("button",{type:"button",onClick:()=>f(p),className:`p-1 transition-colors ${p<=l?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,children:i.jsx(gf,{size:24,fill:p<=l?"currentColor":"none"})},p)),i.jsx("span",{className:"ml-2 text-sm text-gray-600",children:l>0?`${l} star${l!==1?"s":""}`:"Select a rating"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Review ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ri,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("textarea",{value:u,onChange:p=>d(p.target.value),rows:4,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Share your experience with RideYaari...",required:!0})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tell us about your experience using RideYaari. What did you like? How did it help you?"})]}),i.jsx("button",{type:"submit",disabled:h||!s.trim()||!u.trim()||l===0,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Submitting Review...":"Submit Review"})]})]})}function dy({onBack:t,onStartChat:e,onEditTrip:r,onEditRide:s}){const{user:n,userProfile:a,signOut:o}=$e(),[l,c]=w.useState("profile"),[u,d]=w.useState(!1),[h,m]=w.useState([]),[x,v]=w.useState([]),[y,j]=w.useState([]),[g,f]=w.useState((a==null?void 0:a.full_name)||""),[p,b]=w.useState((n==null?void 0:n.email)||""),[_,N]=w.useState((a==null?void 0:a.age)||""),[S,A]=w.useState((a==null?void 0:a.gender)||""),[D,k]=w.useState((a==null?void 0:a.profile_image_url)||""),[C,R]=w.useState(""),[L,M]=w.useState(""),[U,ie]=w.useState(!1),[X,E]=w.useState(""),[P,I]=w.useState(""),[B,Q]=w.useState(!1),[Pe,qe]=w.useState(null),[Lt,z]=w.useState(null);w.useEffect(()=>{a&&(f(a.full_name),b((n==null?void 0:n.email)||""),N(a.age||""),A(a.gender||""),k(a.profile_image_url||""),z(a.profile_image_url||null))},[a]),w.useEffect(()=>{l==="trips"?oe():l==="rides"?_t():l==="chats"&&Ue()},[l]);const oe=async()=>{if(!n)return;const{data:O,error:W}=await K.from("trips").select(`
        *,
        leaving_airport_info:airports!trips_leaving_airport_fkey (
          code,
          name,
          city,
          country
        ),
        destination_airport_info:airports!trips_destination_airport_fkey (
          code,
          name,
          city,
          country
        )
      `).eq("user_id",n.id).order("travel_date",{ascending:!1});!W&&O&&m(O)},_t=async()=>{if(!n)return;const{data:O,error:W}=await K.from("car_rides").select("*").eq("user_id",n.id).order("departure_date_time",{ascending:!1});!W&&O&&v(O)},Ue=async()=>{if(!n)return;const{data:O,error:W}=await K.from("chat_messages").select(`
        *,
        sender:user_profiles!chat_messages_sender_id_fkey (
          id,
          full_name
        ),
        receiver:user_profiles!chat_messages_receiver_id_fkey (
          id,
          full_name
        )
      `).or(`sender_id.eq.${n.id},receiver_id.eq.${n.id}`).order("created_at",{ascending:!1});if(!W&&O){const J=new Map;O.forEach(Z=>{const Se=Z.sender_id===n.id?Z.receiver_id:Z.sender_id,gt=Z.sender_id===n.id?Z.receiver:Z.sender;J.has(Se)||J.set(Se,{...Z,other_user:gt,last_message:Z.message_content,last_message_time:Z.created_at})}),j(Array.from(J.values()))}},bn=O=>{var J;const W=(J=O.target.files)==null?void 0:J[0];if(W){if(!W.type.startsWith("image/")){I("Please select an image file");return}if(W.size>5*1024*1024){I("Image size must be less than 5MB");return}qe(W);const Z=new FileReader;Z.onload=Se=>{var gt;z((gt=Se.target)==null?void 0:gt.result)},Z.readAsDataURL(W),I("")}},lr=async()=>{if(!(!Pe||!n)){Q(!0),I("");try{const O=Pe.name.split(".").pop(),W=`${n.id}/${Date.now()}.${O}`;if(D){const gt=D.split("/").pop();gt&&await K.storage.from("avatars").remove([`${n.id}/${gt}`])}const{error:J}=await K.storage.from("avatars").upload(W,Pe,{cacheControl:"3600",upsert:!0});if(J)throw J;const{data:{publicUrl:Z}}=K.storage.from("avatars").getPublicUrl(W),{error:Se}=await K.from("user_profiles").update({profile_image_url:Z}).eq("id",n.id);if(Se)throw Se;k(Z),qe(null),E("Profile image updated successfully!"),setTimeout(()=>{window.location.reload()},1500)}catch(O){I(O.message)}finally{Q(!1)}}},H=()=>{qe(null),z((a==null?void 0:a.profile_image_url)||null),I("")},fe=async O=>{if(O.preventDefault(),!!n){d(!0),I(""),E("");try{const{error:W}=await K.from("user_profiles").update({full_name:g,age:_?parseInt(_.toString()):null,gender:S||null}).eq("id",n.id);if(W)throw W;if(p!==(n==null?void 0:n.email)){const{error:J}=await K.auth.updateUser({email:p});if(J)throw J;E("Profile updated! Please check your new email address to confirm the change.")}else E("Profile updated successfully!");if(C){if(C!==L)throw new Error("Passwords do not match");const{error:J}=await K.auth.updateUser({password:C});if(J)throw J}(!p||p===(n==null?void 0:n.email))&&E("Profile updated successfully!"),R(""),M(""),setTimeout(()=>{window.location.reload()},1500)}catch(W){I(W.message)}finally{d(!1)}}},be=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),xs=O=>new Date(O).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4",children:i.jsxs("div",{className:"container mx-auto max-w-full sm:max-w-2xl md:max-w-4xl lg:max-w-6xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-1 sm:space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{children:"Back to Platform"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 sm:px-8 py-4 sm:py-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4 text-center sm:text-left",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:D?i.jsx("img",{src:D,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):i.jsx(ht,{size:24,className:"sm:w-8 sm:h-8 text-white"})}),i.jsxs("div",{className:"text-white",children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:a==null?void 0:a.full_name}),i.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:n==null?void 0:n.email}),i.jsxs("p",{className:"text-blue-100 text-xs sm:text-sm",children:["Member since ",be((a==null?void 0:a.created_at)||"")]})]})]})}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex overflow-x-auto whitespace-nowrap px-4 sm:px-8 scrollbar-hide",children:[{id:"profile",label:"Profile Settings",icon:ht},{id:"trips",label:"My Trips",icon:Oe},{id:"rides",label:"My Rides",icon:Oe},{id:"chats",label:"Conversations",icon:$a},{id:"review",label:"Submit Review",icon:$a}].map(({id:O,label:W,icon:J})=>i.jsxs("button",{onClick:()=>c(O),className:`flex items-center space-x-1 sm:space-x-2 py-3 sm:py-4 px-2 sm:px-4 border-b-2 font-medium text-xs sm:text-sm transition-colors whitespace-nowrap ${l===O?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(J,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),i.jsx("span",{children:W})]},O))})}),i.jsxs("div",{className:"p-4 sm:p-8",children:[l==="profile"&&i.jsxs("div",{className:"max-w-full sm:max-w-2xl",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Profile Settings"}),X&&i.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 text-xs sm:text-sm",children:X}),P&&i.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-xs sm:text-sm",children:P}),i.jsxs("form",{onSubmit:fe,className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Profile Image"}),i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden mx-auto sm:mx-0",children:Lt?i.jsx("img",{src:Lt,alt:"Profile preview",className:"w-full h-full object-cover"}):i.jsx(ht,{size:32,className:"sm:w-12 sm:h-12 text-gray-400"})})}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[i.jsxs("label",{className:"cursor-pointer bg-blue-50 hover:bg-blue-100 text-blue-600 px-3 py-2 sm:px-4 sm:py-2 rounded-lg border border-blue-200 transition-colors flex items-center space-x-2 text-sm",children:[i.jsx(gx,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),i.jsx("span",{children:"Choose Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:bn,className:"hidden"})]}),Pe&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",onClick:lr,disabled:B,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 text-sm",children:[i.jsx(Jx,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),i.jsx("span",{children:B?"Uploading...":"Upload"})]}),i.jsxs("button",{type:"button",onClick:H,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg transition-colors flex items-center space-x-2 text-sm",children:[i.jsx(gs,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),i.jsx("span",{children:"Cancel"})]})]})]}),Pe&&i.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Selected: ",Pe.name," (",(Pe.size/1024/1024).toFixed(2)," MB)"]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPG, PNG, GIF. Maximum size: 5MB"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(cn,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"email",value:p,onChange:O=>b(O.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",required:!0})]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Changing your email will require verification of the new email address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(ht,{className:"absolute left-3 top-3 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),i.jsx("input",{type:"text",value:g,onChange:O=>f(O.target.value),className:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Age"}),i.jsx("input",{type:"number",value:_,onChange:O=>N(O.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",min:"18",max:"100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Gender"}),i.jsxs("select",{value:S,onChange:O=>A(O.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",children:[i.jsx("option",{value:"",children:"Prefer not to say"}),i.jsx("option",{value:"male",children:"Male"}),i.jsx("option",{value:"female",children:"Female"}),i.jsx("option",{value:"other",children:"Other"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 sm:pt-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Change Password"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:U?"text":"password",value:C,onChange:O=>R(O.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors pr-10 text-sm sm:text-base",placeholder:"Leave empty to keep current password"}),i.jsx("button",{type:"button",onClick:()=>ie(!U),className:"absolute right-3 top-2 sm:top-3 text-gray-400 hover:text-gray-600",children:U?i.jsx(Nx,{size:16,className:"sm:w-5 sm:h-5"}):i.jsx(kx,{size:16,className:"sm:w-5 sm:h-5"})})]})]}),C&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),i.jsx("input",{type:U?"text":"password",value:L,onChange:O=>M(O.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"Confirm your new password"})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center pt-4 sm:pt-6 space-y-3 sm:space-y-0",children:[i.jsx("button",{type:"button",onClick:o,className:"text-red-600 hover:text-red-700 font-medium transition-colors text-sm sm:text-base",children:"Sign Out"}),i.jsxs("button",{type:"submit",disabled:u,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:[i.jsx(Hl,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{children:u?"Saving...":"Save Profile Changes"})]})]})]})]}),l==="trips"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"My Airport Trips"}),h.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx(Oe,{size:32,className:"sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No trips posted yet"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Start sharing your flight itinerary to help other travelers"})]}):i.jsx("div",{className:"space-y-4",children:h.map(O=>{var W,J,Z,Se,gt,Gl;return i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Trip Details"}),i.jsx("button",{onClick:()=>r(O),className:"text-blue-600 hover:text-blue-700 font-medium text-xs sm:text-sm",children:"Edit Trip"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Departure"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:(W=O.leaving_airport_info)==null?void 0:W.code}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[(J=O.leaving_airport_info)==null?void 0:J.city,", ",(Z=O.leaving_airport_info)==null?void 0:Z.country]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Destination"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:(Se=O.destination_airport_info)==null?void 0:Se.code}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:[(gt=O.destination_airport_info)==null?void 0:gt.city,", ",(Gl=O.destination_airport_info)==null?void 0:Gl.country]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Travel Date"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:be(O.travel_date)}),O.departure_time&&i.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:["Departure: ",O.departure_time]})]})]})]},O.id)})})]}),l==="rides"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"My Car Rides"}),x.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx(Oe,{size:32,className:"sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No rides posted yet"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Start offering rides to help other travelers save money"})]}):i.jsx("div",{className:"space-y-4",children:x.map(O=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Ride Details"}),i.jsx("button",{onClick:()=>s(O),className:"text-green-600 hover:text-green-700 font-medium text-xs sm:text-sm",children:"Edit Ride"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"From"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:O.from_location})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"To"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:O.to_location})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Departure"}),i.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:xs(O.departure_date_time)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:"Price"}),i.jsxs("div",{className:"font-semibold text-green-600 text-sm sm:text-base",children:["$",O.price]})]})]})]},O.id))})]}),l==="chats"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"My Conversations"}),y.length===0?i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx($a,{size:32,className:"sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),i.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"No conversations yet"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Start chatting with other travelers to arrange services"})]}):i.jsx("div",{className:"space-y-4",children:y.map(O=>{var W,J;return i.jsx("div",{className:"border border-gray-200 rounded-xl p-4 sm:p-6 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{var Z,Se;return e(((Z=O.other_user)==null?void 0:Z.id)||"",((Se=O.other_user)==null?void 0:Se.full_name)||"Unknown")},children:i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 text-white rounded-full",children:i.jsx("span",{className:"font-semibold text-sm sm:text-base",children:(((W=O.other_user)==null?void 0:W.full_name)||"U").charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:((J=O.other_user)==null?void 0:J.full_name)||"Unknown"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm truncate",children:O.last_message}),i.jsx("p",{className:"text-gray-400 text-xs",children:xs(O.last_message_time)})]})]})},O.id)})})]}),l==="review"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Submit a Review"}),i.jsx("div",{className:"max-w-full sm:max-w-2xl",children:i.jsx(uy,{onReviewSubmitted:()=>{}})})]})]})]})]})})}function hy({onBack:t}){const[e,r]=w.useState(!1);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4",children:i.jsxs("div",{className:"container mx-auto max-w-full sm:max-w-xl md:max-w-4xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-1 sm:space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{children:"Back"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(cs,{size:24,className:"sm:w-8 sm:h-8 text-blue-600"})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Help & Support"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Get help with RideYaari or contact our support team"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-8 sm:mb-12",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Frequently Asked Questions"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"How does RideYaari work?"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"RideYaari connects travelers through two services: Airport Trips for sharing flight itineraries and arranging deliveries/assistance, and Car Rides for carpooling to share travel costs."})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Is RideYaari safe to use?"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"We provide a secure platform for communication, but users are responsible for their own safety. Always meet in public places, verify identities, and use your best judgment."})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"How do I contact other users?"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Use our built-in chat system to communicate with other users. All conversations are stored securely and can be accessed from your profile dashboard."})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 sm:p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"What are the additional use cases for Airport Trips?"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Beyond package delivery, you can request caretakers for elderly parents, find assistance for first-time travelers, or arrange airport companionship services."})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6",children:"Contact Us"}),e?i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6 text-center",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx(wn,{size:20,className:"sm:w-6 sm:h-6 text-green-600"})}),i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-green-900 mb-2",children:"Message Sent!"}),i.jsx("p",{className:"text-sm sm:text-base text-green-700",children:"We'll get back to you within 24 hours."})]}):i.jsxs("form",{onSubmit:s=>{s.preventDefault(),r(!0)},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Name"}),i.jsx("input",{type:"text",name:"name",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Subject"}),i.jsxs("select",{name:"subject",className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",required:!0,children:[i.jsx("option",{value:"",children:"Select a subject"}),i.jsx("option",{value:"general",children:"General Inquiry"}),i.jsx("option",{value:"technical",children:"Technical Support"}),i.jsx("option",{value:"safety",children:"Safety Concern"}),i.jsx("option",{value:"feedback",children:"Feedback & Suggestions"}),i.jsx("option",{value:"feature_request",children:"Feature Request"}),i.jsx("option",{value:"bug_report",children:"Bug Report"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Message"}),i.jsx("textarea",{name:"message",rows:4,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",placeholder:"You can submit feedback, ask any questions, suggest new features, or report any bugs you've found. We appreciate all input to help improve RideYaari!",required:!0})]}),i.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 sm:py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm sm:text-base",children:"Send Message"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6 sm:pt-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6 text-center",children:"Other Ways to Reach Us"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:i.jsx(cn,{size:20,className:"sm:w-6 sm:h-6 text-blue-600"})}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base",children:"Email Support"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"support@rideyaari.com"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:i.jsx(zx,{size:20,className:"sm:w-6 sm:h-6 text-blue-600"})}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base",children:"Phone Support"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"CALL"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:i.jsx(Ri,{size:20,className:"sm:w-6 sm:h-6 text-blue-600"})}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-sm sm:text-base",children:"Live Chat"}),i.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Available 24/7"})]})]})]})]})]})})}function fy({onBack:t,otherUserId:e,otherUserName:r}){const{user:s}=$e(),[n,a]=w.useState([]),[o,l]=w.useState(""),[c,u]=w.useState(!0),[d,h]=w.useState(!1),m=w.useRef(null);w.useEffect(()=>{if(s){v();const g=K.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`sender_id=eq.${e}`},f=>{f.new.receiver_id===s.id&&v()}).subscribe();return()=>{g.unsubscribe()}}},[s,e]),w.useEffect(()=>{x()},[n]);const x=()=>{var g;(g=m.current)==null||g.scrollIntoView({behavior:"smooth"})},v=async()=>{if(s)try{const{data:g,error:f}=await K.from("chat_messages").select(`
          *,
          sender:user_profiles!chat_messages_sender_id_fkey (
            id,
            full_name
          ),
          receiver:user_profiles!chat_messages_receiver_id_fkey (
            id,
            full_name
          )
        `).or(`and(sender_id.eq.${s.id},receiver_id.eq.${e}),and(sender_id.eq.${e},receiver_id.eq.${s.id})`).order("created_at");!f&&g&&a(g)}catch(g){console.error("Fetch messages error:",g)}finally{u(!1)}},y=async g=>{if(g.preventDefault(),!(!o.trim()||!s||d)){h(!0);try{const{error:f}=await K.from("chat_messages").insert({sender_id:s.id,receiver_id:e,message_content:o.trim(),is_read:!1});if(f)throw f;l(""),v()}catch(f){console.error("Send message error:",f)}finally{h(!1)}}};w.useEffect(()=>{(async()=>{s&&e&&await K.from("chat_messages").update({is_read:!0}).eq("sender_id",e).eq("receiver_id",s.id)})()},[s,e]);const j=g=>{const f=new Date(g);return(new Date().getTime()-f.getTime())/(1e3*60*60)<24?f.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):f.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})};return c?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(un,{size:48,className:"text-blue-600 mx-auto mb-4 animate-pulse"}),i.jsx("p",{className:"text-gray-600",children:"Loading conversation..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[i.jsx("div",{className:"bg-white shadow-sm p-2 sm:p-4",children:i.jsx("div",{className:"container mx-auto max-w-full sm:max-w-xl md:max-w-4xl",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:t,className:"flex items-center space-x-1 sm:space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm sm:text-base",children:[i.jsx(Je,{size:16,className:"sm:w-5 sm:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 text-white rounded-full",children:i.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:r.charAt(0).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate max-w-32 sm:max-w-none",children:r}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"RideYaari User"})]})]})]})})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-2 sm:p-4",children:i.jsx("div",{className:"container mx-auto max-w-full sm:max-w-xl md:max-w-4xl",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-3 sm:p-6 h-full",children:n.length===0?i.jsx("div",{className:"flex items-center justify-center h-64 sm:h-96",children:i.jsxs("div",{className:"text-center",children:[i.jsx(un,{size:32,className:"sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"No messages yet. Start the conversation!"})]})}):i.jsxs("div",{className:"space-y-3 sm:space-y-4 mb-3 sm:mb-4",style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto"},children:[n.map(g=>{const f=g.sender_id===(s==null?void 0:s.id);return i.jsx("div",{className:`flex ${f?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs sm:max-w-sm lg:max-w-md px-3 sm:px-4 py-2 rounded-2xl ${f?"bg-blue-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[i.jsx("p",{className:"text-xs sm:text-sm leading-relaxed",children:g.message_content}),i.jsx("p",{className:`text-xs mt-1 ${f?"text-blue-100":"text-gray-500"}`,children:j(g.created_at)})]})},g.id)}),i.jsx("div",{ref:m})]})})})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-2 sm:p-4",children:i.jsx("div",{className:"container mx-auto max-w-full sm:max-w-xl md:max-w-4xl",children:i.jsxs("form",{onSubmit:y,className:"flex items-center space-x-2 sm:space-x-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),placeholder:`Message ${r}...`,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors text-sm sm:text-base",disabled:d})}),i.jsx("button",{type:"submit",disabled:!o.trim()||d,className:"flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(wn,{size:16,className:"sm:w-5 sm:h-5"})})]})})})]})}function my({onBack:t,trip:e}){const{user:r}=$e(),[s,n]=w.useState(e.leaving_airport),[a,o]=w.useState(e.destination_airport),[l,c]=w.useState(e.travel_date),[u,d]=w.useState(e.departure_time||""),[h,m]=w.useState(e.landing_date||""),[x,v]=w.useState(e.landing_time||""),[y,j]=w.useState(Gr()),[g,f]=w.useState(Gr()),[p,b]=w.useState(!1),[_,N]=w.useState(!1),[S,A]=w.useState(""),D=async C=>{if(C.preventDefault(),!!r){b(!0),A("");try{const{error:R}=await K.from("trips").update({leaving_airport:s,destination_airport:a,travel_date:l,departure_time:u||null,landing_date:h||null,landing_time:x||null}).eq("id",e.id);if(R)throw R;N(!0),setTimeout(()=>{t()},2e3)}catch(R){A(R.message)}finally{b(!1)}}},k=()=>{const C=new Date;return C.setDate(C.getDate()+1),C.toISOString().split("T")[0]};return _?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Hl,{size:32,className:"text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Trip Updated Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Your trip has been updated. Redirecting back to your profile..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Profile"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Your Trip"}),i.jsx("p",{className:"text-gray-600",children:"Update your flight details"})]}),S&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:S}),i.jsxs("form",{onSubmit:D,className:"space-y-6",children:[i.jsx(us,{value:s,onChange:n,placeholder:"Search for departure airport...",label:"Leaving Airport",required:!0}),i.jsx(us,{value:a,onChange:o,placeholder:"Search for destination airport...",label:"Destination Airport",required:!0}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Travel Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:l,onChange:C=>c(C.target.value),min:k(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Time"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"time",value:u,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("select",{value:y,onChange:C=>j(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Oi.map(C=>i.jsxs("option",{value:C.value,children:[C.label," (",C.offset,")"]},C.value))})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - specify if you want to share exact timing"})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"date",value:h,onChange:C=>m(C.target.value),min:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - leave empty if same day or unknown"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landing Time"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pi,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"time",value:x,onChange:C=>v(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("select",{value:g,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:Oi.map(C=>i.jsxs("option",{value:C.value,children:[C.label," (",C.offset,")"]},C.value))})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Optional - specify if you want to share exact timing"})]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:p||!s||!a||!l,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Updating Trip...":"Update Trip"})]})]})]})]})})}function py({onBack:t,ride:e}){const{user:r}=$e(),[s,n]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState([]),[u,d]=w.useState(""),[h,m]=w.useState(""),[x,v]=w.useState("USD"),[y,j]=w.useState(!1),[g,f]=w.useState(!1),[p,b]=w.useState("");w.useEffect(()=>{n({address:e.from_location,latitude:e.from_latitude||null,longitude:e.from_longitude||null}),o({address:e.to_location,latitude:e.to_latitude||null,longitude:e.to_longitude||null}),d(e.departure_date_time.slice(0,16)),m(e.price.toString()),v(e.currency||"USD"),e.intermediate_stops&&Array.isArray(e.intermediate_stops)&&c(e.intermediate_stops.map(k=>({address:k.address,latitude:k.latitude||null,longitude:k.longitude||null})))},[e]);const _=async k=>{if(k.preventDefault(),!(!r||!s||!a)){j(!0),b("");try{console.log("Updating ride with locations:",{fromLocation:s,toLocation:a,intermediateStops:l});const{error:C}=await K.from("car_rides").update({from_location:s.address,to_location:a.address,from_latitude:s.latitude,from_longitude:s.longitude,to_latitude:a.latitude,to_longitude:a.longitude,departure_date_time:new Date(u).toISOString(),price:parseFloat(h),currency:x,intermediate_stops:l.map(R=>({address:R.address,latitude:R.latitude,longitude:R.longitude}))}).eq("id",e.id);if(C)throw C;f(!0),setTimeout(()=>{t()},2e3)}catch(C){console.error("Error updating ride:",C),b(C.message)}finally{j(!1)}}},N=()=>{l.length<3&&c([...l,{address:"",latitude:null,longitude:null}])},S=k=>{c(l.filter((C,R)=>R!==k))},A=(k,C)=>{if(C){const R=[...l];R[k]=C,c(R)}},D=()=>{const k=new Date;return k.setDate(k.getDate()+1),k.setHours(9,0,0,0),k.toISOString().slice(0,16)};return g?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Hl,{size:32,className:"text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ride Updated Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Your ride has been updated. Redirecting back to your profile..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-4",children:i.jsxs("div",{className:"container mx-auto max-w-2xl",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-green-600 hover:text-green-700 font-medium transition-colors",children:[i.jsx(Je,{size:20}),i.jsx("span",{children:"Back to Profile"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Edit Your Ride"}),i.jsx("p",{className:"text-gray-600",children:"Update your ride details"})]}),p&&i.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:p}),i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsx(tr,{value:s,onChange:n,placeholder:"Enter departure location...",label:"From Location",required:!0}),i.jsx(tr,{value:a,onChange:o,placeholder:"Enter destination location...",label:"To Location",required:!0}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intermediate Stops (Optional)"}),l.length<3&&i.jsxs("button",{type:"button",onClick:N,className:"flex items-center space-x-1 text-green-600 hover:text-green-700 text-sm font-medium",children:[i.jsx(mf,{size:16}),i.jsx("span",{children:"Add Stop"})]})]}),l.map((k,C)=>i.jsxs("div",{className:"flex items-end space-x-2 mb-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(tr,{value:k,onChange:R=>A(C,R),placeholder:`Stop ${C+1} location...`,label:""})}),i.jsx("button",{type:"button",onClick:()=>S(C),className:"flex items-center justify-center w-10 h-10 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(gs,{size:16})})]},C))]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Departure Date & Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Oe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"datetime-local",value:u,onChange:k=>d(k.target.value),min:D(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",required:!0})]})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price per Passenger ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ff,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"number",value:h,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),i.jsx("select",{value:x,onChange:k=>v(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",children:Kl.map(k=>i.jsxs("option",{value:k.code,children:[k.symbol," ",k.code," - ",k.name]},k.code))})]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:y||!s||!a||!u||!h,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Updating Ride...":"Update Ride"})]})]})]})]})})}function gy(){const{user:t,loading:e}=$e(),[r,s]=w.useState("platform-selector"),[n,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,h]=w.useState(null),[m,x]=w.useState(null);Lu.useEffect(()=>{t&&!e&&(localStorage.getItem("rideyaari-visited")||(a(!0),localStorage.setItem("rideyaari-visited","true")))},[t,e]);const v=()=>{a(!1)},y=(S,A)=>{l(S),u(A),s("chat")},j=()=>{s("platform-selector"),l(""),u(""),h(null),x(null)},g=S=>{h(S),s("edit-trip")},f=S=>{x(S),s("edit-ride")},p=()=>{s("airport-dashboard")},b=()=>{s("car-dashboard")},_=()=>{s("profile")},N=()=>{s("help")};return e?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading RideYaari..."})]})}):t?i.jsxs(i.Fragment,{children:[i.jsx(ty,{isOpen:n,onClose:v}),(()=>{switch(r){case"platform-selector":return i.jsx(Nu,{onSelectPlatform:S=>s(S==="airport"?"airport-dashboard":"car-dashboard"),onProfile:_,onHelp:N,onStartChat:y});case"airport-dashboard":return i.jsx(ry,{onPostTrip:()=>s("post-trip"),onFindTrip:()=>s("find-trip"),onProfile:()=>s("profile"),onBack:()=>s("platform-selector"),onHelp:()=>s("help"),onStartChat:y});case"car-dashboard":return i.jsx(sy,{onPostRide:()=>s("post-ride"),onFindRide:()=>s("find-ride"),onProfile:()=>s("profile"),onBack:()=>s("platform-selector"),onStartChat:y});case"post-trip":return i.jsx(iy,{onBack:p});case"find-trip":return i.jsx(ay,{onBack:p,onStartChat:y});case"post-ride":return i.jsx(ly,{onBack:b});case"find-ride":return i.jsx(cy,{onBack:b,onStartChat:y});case"profile":return i.jsx(dy,{onBack:j,onStartChat:y,onEditTrip:g,onEditRide:f});case"help":return i.jsx(hy,{onBack:j});case"chat":return i.jsx(fy,{onBack:j,otherUserId:o,otherUserName:c});case"edit-trip":return d?i.jsx(my,{onBack:j,trip:d}):i.jsx("div",{children:"Error: No trip to edit"});case"edit-ride":return m?i.jsx(py,{onBack:j,ride:m}):i.jsx("div",{children:"Error: No ride to edit"});default:return i.jsx(Nu,{onSelectPlatform:S=>s(S==="airport"?"airport-dashboard":"car-dashboard")})}})()]}):i.jsx(ey,{})}function xy(){return i.jsx(ox,{children:i.jsx(gy,{})})}Mh(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(xy,{})}));
